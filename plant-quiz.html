<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="th"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;คู่หูนักพฤกษศาสตร์ V3.2: แบบทดสอบ AI&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.jsdelivr.net/npm/chart.js"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;link rel="preconnect" href="https://fonts.googleapis.com"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;link rel="preconnect" href="https://fonts.gstatic.com" crossorigin&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&amp;display=swap" rel="stylesheet"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>:root {</p>
<p class="p1"><span class="Apple-converted-space">            </span>--primary-color: #2e7d32;</p>
<p class="p1"><span class="Apple-converted-space">            </span>--secondary-color: #4CAF50;</p>
<p class="p1"><span class="Apple-converted-space">            </span>--accent-color: #ff9800;</p>
<p class="p1"><span class="Apple-converted-space">            </span>--light-bg: #f0f7f2;</p>
<p class="p1"><span class="Apple-converted-space">            </span>--white-bg: #ffffff;</p>
<p class="p1"><span class="Apple-converted-space">            </span>--text-color: #333;</p>
<p class="p1"><span class="Apple-converted-space">            </span>--border-color: #ccc;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>body {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: 'Sarabun', sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: var(--light-bg);</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: var(--text-color);</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>min-height: 100vh;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 20px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-sizing: border-box;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.container {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: var(--white-bg);</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 20px 30px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 15px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 4px 20px rgba(0,0,0,0.1);</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>max-width: 800px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>text-align: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.screen { display: none; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.screen.active { display: block; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>h1, h2, h3 { color: var(--primary-color); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>h2 { font-size: 1.5em; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>h3 { font-size: 1.2em; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Loader Overlay */</p>
<p class="p1"><span class="Apple-converted-space">        </span>#loader-overlay {</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: absolute;</p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>left: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: rgba(255, 255, 255, 0.8);</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: none;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 1000;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 15px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.loader {</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 8px solid #f3f3f3;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-top: 8px solid var(--secondary-color);</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 50%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 60px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 60px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>animation: spin 1s linear infinite;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes spin {</p>
<p class="p1"><span class="Apple-converted-space">            </span>0% { transform: rotate(0deg); }</p>
<p class="p1"><span class="Apple-converted-space">            </span>100% { transform: rotate(360deg); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Welcome Screen */</p>
<p class="p1"><span class="Apple-converted-space">        </span>#welcome-screen .form-group { margin-bottom: 15px; text-align: left; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>#welcome-screen label { display: block; margin-bottom: 5px; font-weight: bold; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>#welcome-screen input { width: 95%; padding: 10px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 1em; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Content Screen Styles */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.content-container { margin: 20px 0; padding: 15px; background: #f9f9f9; border-radius: 8px; border: 1px solid #eee; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.chart-container { position: relative; width: 100%; max-width: 500px; margin-left: auto; margin-right: auto; height: 280px; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.flow-arrow { font-size: 2.5rem; line-height: 1; color: #D9B44A; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.card { background-color: white; border-radius: 0.75rem; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); transition: transform 0.3s ease, box-shadow 0.3s ease; padding: 1.5rem; margin-bottom: 1rem; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.info-table { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 0.95em; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.info-table th, .info-table td { border: 1px solid var(--border-color); padding: 8px; text-align: left; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.info-table th { background-color: var(--secondary-color); color: white; text-align: center; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.video-wrapper { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; background: #000; border-radius: 8px; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.osmosis-box { border: 3px solid; border-radius: 0.75rem; padding: 1rem; height: 100%; text-align: center; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.arrow { font-size: 3rem; line-height: 1; font-weight: bold; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Question Screen */</p>
<p class="p1"><span class="Apple-converted-space">        </span>#question-text { min-height: 60px; font-size: 1.3em; color: var(--secondary-color); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>textarea { width: 95%; height: 100px; padding: 15px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 1em; margin-bottom: 10px; resize: vertical; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>#word-counter { font-size: 0.9em; color: #888; margin-bottom: 20px; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.question-actions { display: flex; justify-content: center; align-items: center; gap: 10px; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Hint Box */</p>
<p class="p1"><span class="Apple-converted-space">        </span>#hint-box { background-color: #fffbe6; border: 1px solid #ffe58f; border-radius: 8px; padding: 10px; margin: 15px 0; font-style: italic; color: #d46b08; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Progress Bar */</p>
<p class="p1"><span class="Apple-converted-space">        </span>#progress-bar-container { width: 100%; background-color: #e0e0e0; border-radius: 10px; margin: 20px 0; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>#progress-bar { width: 0%; height: 20px; background-color: var(--secondary-color); border-radius: 10px; transition: width 0.5s ease-in-out; text-align: center; color: white; line-height: 20px; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Feedback &amp; Score */</p>
<p class="p1"><span class="Apple-converted-space">        </span>#feedback-container { margin-top: 20px; padding: 15px; border-radius: 8px; text-align: left; line-height: 1.6; background-color: #e8f5e9; border-left: 5px solid #66bb6a; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>#score-display { font-size: 1.5em; font-weight: bold; color: var(--primary-color); margin-bottom: 10px; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Summary Screen */</p>
<p class="p1"><span class="Apple-converted-space">        </span>#summary-screen ul { list-style-type: none; padding: 0; text-align: left; max-width: 400px; margin: 20px auto; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>#summary-screen li { background: #f4f4f4; margin-bottom: 10px; padding: 10px; border-radius: 5px; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>#summary-screen li strong { color: var(--primary-color); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>#total-score { font-size: 2.5em; font-weight: bold; color: var(--accent-color); margin-top: 20px; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Navigation Bar */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.navigation-bar {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-top: 2rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding-top: 1rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-top: 1px solid var(--border-color);</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: space-between;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Buttons */</p>
<p class="p1"><span class="Apple-converted-space">        </span>button { background-color: var(--secondary-color); color: white; padding: 12px 25px; border: none; border-radius: 8px; cursor: pointer; font-size: 1em; font-family: 'Sarabun', sans-serif; transition: all 0.3s; margin: 5px; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>button:hover { opacity: 0.9; transform: translateY(-2px); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>button.accent { background-color: var(--accent-color); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>button.secondary { background-color: #757575; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>button:disabled { background-color: #aaa; cursor: not-allowed; transform: translateY(0); }</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="loader-overlay"&gt;&lt;div class="loader"&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- Screen 1: Welcome --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="welcome-screen" class="screen active"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h1&gt;ยินดีต้อนรับสู่บทเรียน&lt;br&gt;เรื่องแร่ธาตุอาหารพืช (AI)&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p&gt;กรุณากรอกข้อมูลเพื่อเริ่มทำแบบทดสอบ&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="form-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;label for="student-name"&gt;ชื่อ - นามสกุล&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;input type="text" id="student-name" placeholder="เช่น เด็กชายพืชพันธุ์ ดีจริง"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="form-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;label for="student-id"&gt;เลขที่&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;input type="text" id="student-id" placeholder="เช่น 99"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="form-group"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;label for="student-class"&gt;ชั้น&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;input type="text" id="student-class" placeholder="เช่น ม.1/1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button onclick="startQuiz()"&gt;เริ่มบทเรียน&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- Screen 2: Content --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="content-screen" class="screen"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h2 id="content-title"&gt;&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="content-body"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="navigation-bar"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button id="content-prev-btn" class="secondary" onclick="previousStep()"&gt;⬅️ ย้อนกลับ&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button id="content-next-btn" onclick="nextStep()"&gt;หน้าถัดไป ➡️&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- Screen 3: Question --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="question-screen" class="screen"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="progress-bar-container"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="progress-bar"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h3 id="question-title"&gt;คำถามข้อที่ X&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;p id="question-text"&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="hint-box" style="display:none;"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;textarea id="student-answer" maxlength="300" placeholder="อธิบายคำตอบ (ไม่เกิน 50 คำ)"&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="word-counter"&gt;0/50 คำ&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="question-actions"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button id="hint-btn" class="secondary" onclick="getHint()"&gt;✨ ขอคำใบ้&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button id="check-answer-btn" onclick="checkAnswer()"&gt;ตรวจคำตอบ&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="feedback-container" style="display:none;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="score-display"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p id="feedback-text"&gt;&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button id="retry-btn" onclick="retryQuestion()"&gt;แก้ไขคำตอบ&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button id="continue-btn" class="accent" onclick="nextStep()"&gt;ทำข้อต่อไป&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="navigation-bar"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                 </span>&lt;button id="question-prev-btn" class="secondary" onclick="previousStep()"&gt;⬅️ กลับไปดูเนื้อหา&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                 </span>&lt;span&gt;&lt;/span&gt; &lt;!-- Spacer --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- Screen 4: Summary --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div id="summary-screen" class="screen"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h1&gt;สรุปผลการเรียนรู้&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;ul&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;li&gt;&lt;strong&gt;ชื่อ:&lt;/strong&gt; &lt;span id="summary-name"&gt;&lt;/span&gt;&lt;/li&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;li&gt;&lt;strong&gt;เลขที่:&lt;/strong&gt; &lt;span id="summary-id"&gt;&lt;/span&gt;&lt;/li&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;li&gt;&lt;strong&gt;ชั้น:&lt;/strong&gt; &lt;span id="summary-class"&gt;&lt;/span&gt;&lt;/li&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/ul&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h3&gt;คะแนนรวมของคุณคือ&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="total-score"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button onclick="restartQuiz()"&gt;เริ่มต้นใหม่อีกครั้ง&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- DATA ---</p>
<p class="p1"><span class="Apple-converted-space">        </span>const studentData = { name: '', id: '', class: '', scores: [], answers: [] };</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentStepIndex = -1;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const API_KEY = "";<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${API_KEY}`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const quizSteps = [</p>
<p class="p1"><span class="Apple-converted-space">             </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'content',</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: 'อินโฟกราฟิก: ความลับของ "ดิน"',</p>
<p class="p1"><span class="Apple-converted-space">                </span>htmlContent: `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div style="background-color: #F2E8CF; padding: 1rem; border-radius: 15px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;header class="text-center mb-12"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h1 class="text-4xl md:text-5xl font-bold mb-4" style="color: #4A7C59;"&gt;อินโฟกราฟิก: ความลับของ "ดิน"&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-xl md:text-2xl" style="color: #A63D40;"&gt;น้องๆ คิดว่าพืช "กินดิน" เป็นอาหารใช่ไหม? 🤔 ผิดแล้ว! มาดูกันว่าดินทำหน้าที่อะไรกันแน่&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/header&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;main class="grid grid-cols-1 md:grid-cols-2 gap-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6 md:col-span-2 lg:col-span-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h2 class="text-3xl font-bold mb-4" style="color: #4A7C59;"&gt;บทบาทที่ 1: ดินคือ "บ้านและฐานที่มั่น" 🏡&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="mb-6 text-lg"&gt;ดินเปรียบเสมือน &lt;strong&gt;"ฐานราก"&lt;/strong&gt; ที่ทำให้ต้นไม้ซึ่งเป็นบ้านหลังใหญ่แข็งแรงและไม่โค่นล้ม&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="space-y-4 text-lg"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-3xl mr-4"&gt;⚓&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div&gt;&lt;h3 class="font-bold"&gt;รากคือสมอเรือ&lt;/h3&gt;&lt;p&gt;รากของพืชจะชอนไชและยึดเกาะดินไว้แน่น เพื่อต่อสู้กับแรงลมพายุ 💨 และกระแสน้ำ 💧 ทำให้ลำต้นยืนหยัดอยู่ได้&lt;/p&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-3xl mr-4"&gt;🏛️&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div&gt;&lt;h3 class="font-bold"&gt;โครงสร้างที่มั่นคง&lt;/h3&gt;&lt;p&gt;ดินทำหน้าที่โอบอุ้มราก ทำให้พืชมีฐานที่มั่นคงในการเจริญเติบโต แผ่กิ่งก้านไปรับแสงแดดได้อย่างเต็มที่ ☀️&lt;/p&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="mt-6 p-4 rounded-lg text-center font-bold text-lg" style="background-color: #8DB38B; color: white;"&gt;ข้อเท็จจริงน่ารู้: ถ้าไม่มีดินเป็นที่ยึดเกาะ ต้นไม้ก็เหมือนคนไม่มีกระดูกสันหลัง!&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6 md:col-span-2 lg:col-span-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h2 class="text-3xl font-bold mb-4" style="color: #4A7C59;"&gt;บทบาทที่ 2: ดินคือ "ตู้กับข้าว" 🍎🥕&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="mb-4 text-lg"&gt;นี่คือความเข้าใจใหม่ที่สำคัญมาก! พืชไม่ได้กินดินโดยตรง แต่ดินคือ &lt;strong&gt;"ห้องครัว"&lt;/strong&gt; ที่เก็บวัตถุดิบชั้นเลิศไว้ให้&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="mb-4"&gt;พืชเป็นเชฟมือหนึ่ง! 🍳 พวกมัน &lt;strong&gt;สร้างอาหารเอง&lt;/strong&gt; ผ่านกระบวนการ "สังเคราะห์ด้วยแสง" โดยใช้ส่วนประกอบสำคัญดังนี้&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="chart-container" style="height:300px; max-height:350px;"&gt;&lt;canvas id="photosynthesisChart"&gt;&lt;/canvas&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-center text-sm italic mt-2"&gt;แผนภูมิแสดงส่วนประกอบหลักในการสังเคราะห์ด้วยแสง&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6 md:col-span-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-2xl font-bold mb-4 text-center" style="color: #4A7C59;"&gt;แล้วดินเกี่ยวอะไร?&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-lg mb-4"&gt;ในดินมี &lt;strong&gt;"แร่ธาตุ"&lt;/strong&gt; ที่จำเป็น (เหมือนวิตามินของคน) ซึ่งเกิดจากการย่อยสลายของซากพืชซากสัตว์ แร่ธาตุหลักที่สำคัญที่สุด 3 ชนิดคือ ไนโตรเจน (N), ฟอสฟอรัส (P), และโพแทสเซียม (K)&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-lg"&gt;พืชไม่ได้แทะก้อนดิน! แต่จะใช้ราก &lt;strong&gt;"ดูดน้ำ"&lt;/strong&gt; 💧 ที่มีแร่ธาตุเหล่านี้ละลายอยู่เข้าไป เหมือนเราดื่มน้ำที่ชงวิตามินเม็ดฟู่แล้วนั่นเอง&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div class="chart-container" style="max-width: 500px; height:300px; max-height:350px;"&gt;&lt;canvas id="mineralsChart"&gt;&lt;/canvas&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;p class="text-center text-sm italic mt-2"&gt;แผนภูมิเปรียบเทียบความสำคัญของแร่ธาตุหลัก 3 ชนิด&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6 md:col-span-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;h2 class="text-3xl font-bold mb-6 text-center" style="color: #4A7C59;"&gt;สรุปให้เข้าใจง่ายๆ&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4 text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex flex-col items-center"&gt;&lt;div class="text-5xl mb-2"&gt;🌳&lt;/div&gt;&lt;div class="p-3 bg-gray-100 rounded-lg"&gt;&lt;h3 class="font-bold"&gt;1. ยึดลำต้น&lt;/h3&gt;&lt;p&gt;พืชใช้ดินเป็นที่ยึดเกาะ&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flow-arrow hidden md:block"&gt;→&lt;/div&gt;&lt;div class="flow-arrow block md:hidden"&gt;↓&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex flex-col items-center"&gt;&lt;div class="text-5xl mb-2"&gt;💎&lt;/div&gt;&lt;div class="p-3 bg-gray-100 rounded-lg"&gt;&lt;h3 class="font-bold"&gt;2. เก็บสารอาหาร&lt;/h3&gt;&lt;p&gt;ดินเป็นแหล่งเก็บแร่ธาตุ&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flow-arrow hidden md:block"&gt;→&lt;/div&gt;&lt;div class="flow-arrow block md:hidden"&gt;↓&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex flex-col items-center"&gt;&lt;div class="text-5xl mb-2"&gt;💧&lt;/div&gt;&lt;div class="p-3 bg-gray-100 rounded-lg"&gt;&lt;h3 class="font-bold"&gt;3. ดูดซึมผ่านน้ำ&lt;/h3&gt;&lt;p&gt;พืชดูดแร่ธาตุพร้อมน้ำ&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flow-arrow hidden md:block"&gt;→&lt;/div&gt;&lt;div class="flow-arrow block md:hidden"&gt;↓&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="flex flex-col items-center"&gt;&lt;div class="text-5xl mb-2"&gt;☀️&lt;/div&gt;&lt;div class="p-3 bg-gray-100 rounded-lg"&gt;&lt;h3 class="font-bold"&gt;4. สร้างอาหารเอง&lt;/h3&gt;&lt;p&gt;ใช้แสงแดดปรุงอาหาร&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/main&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;footer class="text-center mt-12 p-6 rounded-lg" style="background-color: #4A7C59; color: white;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-xl md:text-2xl font-bold"&gt;ดังนั้น ดินจึงไม่ใช่ "อาหารจานหลัก" แต่เป็น "บ้านที่อบอุ่นและตู้เสบียงชั้นเลิศ" สำหรับพืชทุกต้นบนโลก! 🌍💚&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/footer&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onRender: () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const commonTooltipOptions = { plugins: { tooltip: { callbacks: { title: (tooltipItems) =&gt; tooltipItems[0].label }, bodyFont: { family: 'Sarabun', size: 14 }, titleFont: { family: 'Sarabun', size: 16, weight: 'bold' } }, legend: { labels: { font: { family: 'Sarabun', size: 14 } } } } };</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (Chart.getChart("photosynthesisChart")) Chart.getChart("photosynthesisChart").destroy();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const photosynthesisCtx = document.getElementById('photosynthesisChart').getContext('2d');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>new Chart(photosynthesisCtx, { type: 'doughnut', data: { labels: ['แสงแดด', 'ก๊าซคาร์บอนไดออกไซด์', 'น้ำและแร่ธาตุ'], datasets: [{ label: 'ส่วนประกอบ', data: [33.3, 33.3, 33.3], backgroundColor: ['#D9B44A', '#8DB38B', '#4A7C59'], borderColor: '#F2E8CF', borderWidth: 4 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: commonTooltipOptions.plugins } });</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (Chart.getChart("mineralsChart")) Chart.getChart("mineralsChart").destroy();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const mineralsCtx = document.getElementById('mineralsChart').getContext('2d');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>new Chart(mineralsCtx, { type: 'bar', data: { labels: ['ไนโตรเจน (N)', 'ฟอสฟอรัส (P)', 'โพแทสเซียม (K)'], datasets: [{ label: 'ระดับความสำคัญ', data: [10, 8, 9], backgroundColor: ['#4A7C59', '#8DB38B', '#D9B44A'], borderRadius: 5 }] }, options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true, ticks: { display: false }, grid: { display: false }, border: { display: false } }, x: { ticks: { font: { family: 'Sarabun', size: 14, weight: 'bold' } }, grid: { display: false } } }, plugins: { ...commonTooltipOptions.plugins, legend: { display: false } } } });</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ type: 'question', q: "'ดิน' คือ 'อาหาร' ของพืชใช่หรือไม่? ให้อธิบายเหตุผลประกอบ" },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'content',</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: 'ธาตุอาหาร vs. สารอาหาร',</p>
<p class="p1"><span class="Apple-converted-space">                </span>htmlContent: `&lt;div style="background-color: #F7F9F9; padding: 1rem; border-radius: 15px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;header class="text-center mb-12"&gt;&lt;h1 class="text-4xl md:text-5xl font-bold mb-4" style="color: #2C5F2D;"&gt;ธาตุอาหาร vs. สารอาหาร&lt;/h1&gt;&lt;p class="text-xl md:text-2xl" style="color: #97BC62;"&gt;ไขข้อข้องใจ...พืช "กิน" อะไรเพื่อการเจริญเติบโตกันแน่?&lt;/p&gt;&lt;/header&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;main class="space-y-12"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-stretch"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="card"&gt;&lt;div class="comparison-box" style="border-color: #2C5F2D; border-top: 8px solid #2C5F2D;"&gt;&lt;div class="text-6xl mb-4"&gt;🍳&lt;/div&gt;&lt;h2 class="text-3xl font-bold mb-3" style="color: #2C5F2D;"&gt;สารอาหาร (Nutrients)&lt;/h2&gt;&lt;p class="text-xl font-bold mb-2"&gt;"อาหารจานหลัก" ที่พืชสร้างเอง&lt;/p&gt;&lt;p class="text-lg"&gt;คือ **น้ำตาล** ที่พืชสร้างผ่านการสังเคราะห์ด้วยแสง เพื่อใช้เป็น **พลังงานโดยตรง** ในการเติบโต&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="card"&gt;&lt;div class="comparison-box" style="border-color: #97BC62; border-top: 8px solid #97BC62;"&gt;&lt;div class="text-6xl mb-4"&gt;💊&lt;/div&gt;&lt;h2 class="text-3xl font-bold mb-3" style="color: #97BC62;"&gt;ธาตุอาหาร (Elements)&lt;/h2&gt;&lt;p class="text-xl font-bold mb-2"&gt;"วิตามินและเครื่องปรุง"&lt;/p&gt;&lt;p class="text-lg"&gt;คือ **แร่ธาตุ** ที่พืชดูดจากดิน ไม่ได้ให้พลังงานโดยตรง แต่เป็น **องค์ประกอบสำคัญ** ทำให้ร่างกายพืชทำงานได้&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6 text-center"&gt;&lt;h2 class="text-3xl font-bold mb-4"&gt;เปรียบเทียบให้เห็นภาพชัดๆ&lt;/h2&gt;&lt;div class="flex flex-col md:flex-row justify-center items-center gap-8"&gt;&lt;div class="text-center"&gt;&lt;div class="text-7xl"&gt;🍚&lt;/div&gt;&lt;p class="text-xl font-bold mt-2"&gt;สารอาหาร (น้ำตาล)&lt;/p&gt;&lt;p class="text-lg"&gt;เหมือน **ข้าวสวย** ให้พลังงานโดยตรง&lt;/p&gt;&lt;/div&gt;&lt;div class="text-5xl font-bold" style="color: #2C5F2D;"&gt;+&lt;/div&gt;&lt;div class="text-center"&gt;&lt;div class="text-7xl"&gt;🍲&lt;/div&gt;&lt;p class="text-xl font-bold mt-2"&gt;ธาตุอาหาร (แร่ธาตุ)&lt;/p&gt;&lt;p class="text-lg"&gt;เหมือน **กับข้าว** ช่วยให้ร่างกายแข็งแรง&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;p class="mt-6 text-xl font-bold bg-yellow-100 p-3 rounded-lg"&gt;เรากินแต่ข้าวสวยอย่างเดียวไม่ได้ฉันใด พืชก็ขาดแร่ธาตุไม่ได้ฉันนั้น!&lt;/p&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-center"&gt;&lt;h2 class="text-3xl font-bold my-6"&gt;ประเภทของธาตุอาหาร: วิตามินที่พืชต้องการ&lt;/h2&gt;&lt;p class="text-xl"&gt;แบ่งตาม **"ปริมาณ"** ที่พืชต้องการใช้ (แต่ทุกตัวสำคัญเท่ากันนะ!)&lt;/p&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6"&gt;&lt;h3 class="text-2xl font-bold mb-4 text-center"&gt;1. มหธาตุ (Macronutrients) - ต้องการในปริมาณมาก&lt;/h3&gt;&lt;div class="grid grid-cols-1 lg:grid-cols-5 gap-6"&gt;&lt;div class="lg:col-span-3"&gt;&lt;h4 class="text-xl font-bold mb-2" style="color: #2C5F2D;"&gt;ธาตุอาหารหลัก (Primary): 3 ทหารเสือ N-P-K&lt;/h4&gt;&lt;p class="mb-4"&gt;พืชต้องการมากที่สุด และมักจะขาดในดินบ่อยที่สุด ตัวเลขบนกระสอบปุ๋ยก็คือสัดส่วนของธาตุ 3 ตัวนี้นี่เอง&lt;/p&gt;&lt;ul class="space-y-3 text-lg"&gt;&lt;li&gt;&lt;strong&gt;ไนโตรเจน (N):&lt;/strong&gt; บำรุง **ใบและลำต้น** ให้เขียวสดใส (เหมือนโปรตีนสร้างกล้ามเนื้อ)&lt;/li&gt;&lt;li&gt;&lt;strong&gt;ฟอสฟอรัส (P):&lt;/strong&gt; ช่วยระบบ **ราก, การออกดอก, ติดผล** (เหมือนวิตามินช่วยสืบพันธุ์)&lt;/li&gt;&lt;li&gt;&lt;strong&gt;โพแทสเซียม (K):&lt;/strong&gt; ทำให้พืช **แข็งแรง, ต้านทานโรค** (เหมือนเกลือแร่สร้างสมดุล)&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class="lg:col-span-2 flex items-center justify-center"&gt;&lt;div class="chart-container" style="height:200px;"&gt;&lt;canvas id="primaryNutrientsChart"&gt;&lt;/canvas&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;hr class="my-6"&gt;&lt;div&gt;&lt;h4 class="text-xl font-bold mb-2" style="color: #97BC62;"&gt;ธาตุอาหารรอง (Secondary)&lt;/h4&gt;&lt;p class="mb-4"&gt;ต้องการรองลงมา แต่ก็ยังถือว่าเยอะและสำคัญมาก&lt;/p&gt;&lt;div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center"&gt;&lt;div class="bg-gray-100 p-4 rounded-lg"&gt;&lt;strong&gt;แคลเซียม (Ca):&lt;/strong&gt; ทำให้ผนังเซลล์แข็งแรงเหมือนกระดูก&lt;/div&gt;&lt;div class="bg-gray-100 p-4 rounded-lg"&gt;&lt;strong&gt;แมกนีเซียม (Mg):&lt;/strong&gt; ส่วนประกอบสำคัญของคลอโรฟิลล์ (สารสีเขียว)&lt;/div&gt;&lt;div class="bg-gray-100 p-4 rounded-lg"&gt;&lt;strong&gt;กำมะถัน (S):&lt;/strong&gt; ช่วยสร้างกลิ่นและโปรตีน&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6"&gt;&lt;h3 class="text-2xl font-bold mb-2 text-center"&gt;2. จุลธาตุ (Micronutrients) - ต้องการในปริมาณน้อย (แต่ขาดไม่ได้!)&lt;/h3&gt;&lt;p class="text-center text-lg mb-4"&gt;เหมือนไอโอดีนในคน ต้องการนิดเดียว แต่ถ้าขาดจะเป็นเรื่องใหญ่&lt;/p&gt;&lt;div class="text-center text-xl font-bold text-gray-700 bg-green-50 p-4 rounded-lg flex flex-wrap justify-center gap-x-6 gap-y-2"&gt;&lt;span&gt;เหล็ก (Fe)&lt;/span&gt;&lt;span&gt;แมงกานีส (Mn)&lt;/span&gt;&lt;span&gt;สังกะสี (Zn)&lt;/span&gt;&lt;span&gt;ทองแดง (Cu)&lt;/span&gt;&lt;span&gt;โบรอน (B)&lt;/span&gt;&lt;span&gt;โมลิบดีนัม (Mo)&lt;/span&gt;&lt;span&gt;คลอรีน (Cl)&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/main&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;footer class="text-center mt-12 p-6 rounded-lg" style="background-color: #2C5F2D; color: white;"&gt;&lt;p class="text-xl md:text-2xl font-bold"&gt;สรุป: พืช **สร้างสารอาหาร (น้ำตาล)** ของตัวเองเพื่อใช้เป็นพลังงาน แต่ต้องอาศัย **ธาตุอาหาร (แร่ธาตุ)** จากดินเป็น "เครื่องปรุง" สำคัญที่ทำให้ชีวิตสมบูรณ์!&lt;/p&gt;&lt;/footer&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onRender: () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const commonChartOptions = { responsive: true, maintainAspectRatio: false, plugins: { tooltip: { callbacks: { title: (tooltipItems) =&gt; tooltipItems[0].label }, bodyFont: { family: 'Sarabun', size: 14 }, titleFont: { family: 'Sarabun', size: 16, weight: 'bold' } }, legend: { position: 'bottom', labels: { font: { family: 'Sarabun', size: 14 } } } } };</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if(Chart.getChart("primaryNutrientsChart")) Chart.getChart("primaryNutrientsChart").destroy();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const primaryNutrientsCtx = document.getElementById('primaryNutrientsChart').getContext('2d');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>new Chart(primaryNutrientsCtx, { type: 'bar', data: { labels: ['ไนโตรเจน (N)', 'โพแทสเซียม (K)', 'ฟอสฟอรัส (P)'], datasets: [{ label: 'ปริมาณที่พืชต้องการ (เปรียบเทียบ)', data: [100, 75, 50], backgroundColor: ['#2C5F2D', '#97BC62', '#F0A07B'], borderRadius: 5, }] }, options: { ...commonChartOptions, indexAxis: 'y', scales: { x: { ticks: { display: false }, grid: { display: false }, border: { display: false } }, y: { ticks: { font: { family: 'Sarabun', size: 14 } }, grid: { display: false } } }, plugins: { ...commonChartOptions.plugins, legend: { display: false } } } });</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'content',</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: 'ทำไมต้องใส่ปุ๋ย?',</p>
<p class="p1"><span class="Apple-converted-space">                </span>htmlContent: `&lt;div style="background-color: #FDF6E3; padding: 1rem; border-radius: 15px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;header class="text-center mb-12"&gt;&lt;h1 class="text-4xl md:text-5xl font-bold mb-4" style="color: #4A7C59;"&gt;ทำไมต้องใส่ปุ๋ย?&lt;/h1&gt;&lt;p class="text-xl md:text-2xl" style="color: #A63D40;"&gt;มาเติมของอร่อยให้ "ตู้กับข้าว" ของพืชกันเถอะ!&lt;/p&gt;&lt;/header&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;main class="space-y-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6 grid grid-cols-1 md:grid-cols-2 gap-8 items-center"&gt;&lt;div&gt;&lt;h2 class="text-3xl font-bold mb-4" style="color: #A63D40;"&gt;เมื่อ "ตู้กับข้าว" ของพืชว่างเปล่า&lt;/h2&gt;&lt;p class="mb-4 text-lg"&gt;เมื่อพืชเติบโต มันจะดูดแร่ธาตุอาหาร (N, P, K) จากดินไปใช้ และเมื่อเราเก็บเกี่ยวผลผลิต ก็เท่ากับเรา **"ยกเอาแร่ธาตุ"** ออกจากพื้นที่นั้นไปอย่างถาวร!&lt;/p&gt;&lt;p class="text-lg"&gt;เมื่อทำซ้ำๆ ดินจะค่อยๆ ขาดสารอาหารที่จำเป็น กลายเป็น **"ดินจืด"** ที่ทำให้พืชรุ่นต่อไปแคระแกร็น&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;div class="chart-container"&gt;&lt;canvas id="nutrientDepletionChart"&gt;&lt;/canvas&gt;&lt;/div&gt;&lt;p class="text-center text-sm italic mt-2"&gt;ปริมาณธาตุอาหารในดินลดลงเมื่อไม่มีการเติมปุ๋ย&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6 grid grid-cols-1 md:grid-cols-2 gap-8 items-center"&gt;&lt;div&gt;&lt;div class="chart-container"&gt;&lt;canvas id="fertilizerCompositionChart"&gt;&lt;/canvas&gt;&lt;/div&gt;&lt;p class="text-center text-sm italic mt-2"&gt;ปุ๋ยคืออาหารเข้มข้นที่อุดมด้วยแร่ธาตุหลัก N-P-K&lt;/p&gt;&lt;/div&gt;&lt;div class="md:text-right"&gt;&lt;h2 class="text-3xl font-bold mb-4" style="color: #4A7C59;"&gt;ปุ๋ย คือ "การเติมของเข้าตู้กับข้าว"&lt;/h2&gt;&lt;p class="mb-4 text-lg"&gt;เมื่อตู้กับข้าวว่าง เราก็ต้องไปตลาดซื้อของมาเติม! การใส่ปุ๋ยก็คือหลักการเดียวกัน&lt;/p&gt;&lt;p class="text-lg"&gt;การใส่ปุ๋ย คือ การนำ **"อาหารเข้มข้น"** ที่อุดมด้วยแร่ธาตุหลัก (N-P-K) และธาตุรองอื่นๆ **เติมกลับคืนสู่ดิน** เพื่อให้พืชรุ่นใหม่มีอาหารกินอย่างสมบูรณ์&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="text-center"&gt;&lt;h2 class="text-3xl font-bold my-6" style="color: #4A7C59;"&gt;เปรียบเทียบวงจรธาตุอาหาร: ธรรมชาติ vs การเกษตร&lt;/h2&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 lg:grid-cols-2 gap-8"&gt;&lt;div class="card p-6"&gt;&lt;div class="cycle-box" style="border-color: #4A7C59;"&gt;&lt;h3 class="text-2xl font-bold text-center mb-4" style="color: #4A7C59;"&gt;ในป่าตามธรรมชาติ 🌳 (วงจรปิด)&lt;/h3&gt;&lt;div class="space-y-4 text-center"&gt;&lt;div class="text-4xl"&gt;🌳&lt;/div&gt;&lt;p&gt;ต้นไม้ดูดแร่ธาตุจากดิน&lt;/p&gt;&lt;div class="flow-arrow"&gt;↓&lt;/div&gt;&lt;div class="text-4xl"&gt;🍂&lt;/div&gt;&lt;p&gt;ใบร่วงหล่น/ต้นไม้ตาย&lt;/p&gt;&lt;div class="flow-arrow"&gt;↓&lt;/div&gt;&lt;div class="text-4xl"&gt;🦠&lt;/div&gt;&lt;p&gt;จุลินทรีย์ย่อยสลาย&lt;/p&gt;&lt;div class="flow-arrow"&gt;↓&lt;/div&gt;&lt;div class="text-4xl"&gt;💎&lt;/div&gt;&lt;p&gt;แร่ธาตุ &lt;span class="font-bold"&gt;กลับคืนสู่ดิน&lt;/span&gt;&lt;/p&gt;&lt;div class="text-4xl text-green-600"&gt;↺&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="card p-6"&gt;&lt;div class="cycle-box" style="border-color: #A63D40;"&gt;&lt;h3 class="text-2xl font-bold text-center mb-4" style="color: #A63D40;"&gt;ในไร่เกษตรกรรม 🌽 (วงจรเปิด)&lt;/h3&gt;&lt;div class="space-y-4 text-center"&gt;&lt;div class="text-4xl"&gt;🌽&lt;/div&gt;&lt;p&gt;พืชดูดแร่ธาตุจากดิน&lt;/p&gt;&lt;div class="flow-arrow"&gt;↓&lt;/div&gt;&lt;div class="text-4xl"&gt;🧑‍🌾&lt;/div&gt;&lt;p&gt;เราเก็บเกี่ยวผลผลิต&lt;/p&gt;&lt;div class="flow-arrow"&gt;↓&lt;/div&gt;&lt;div class="text-4xl text-red-500"&gt;🚚&lt;/div&gt;&lt;p&gt;แร่ธาตุ &lt;span class="font-bold"&gt;ถูกนำออกจากพื้นที่&lt;/span&gt;&lt;/p&gt;&lt;div class="flow-arrow"&gt;↓&lt;/div&gt;&lt;div class="text-4xl"&gt;📉&lt;/div&gt;&lt;p&gt;ดินจนลง (ดินจืด)&lt;/p&gt;&lt;div class="font-bold text-2xl my-2" style="color: #4A7C59;"&gt;ต้องเติม! →&lt;/div&gt;&lt;div class="text-4xl"&gt;🌱&lt;/div&gt;&lt;p class="p-2 rounded-lg font-bold" style="background-color: #D9B44A; color: white;"&gt;ใส่ปุ๋ย&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/main&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;footer class="text-center mt-12 p-6 rounded-lg" style="background-color: #4A7C59; color: white;"&gt;&lt;p class="text-xl md:text-2xl font-bold"&gt;สรุป: เราใส่ปุ๋ยเพื่อ "คืนวิตามิน" ให้ดิน หลังจากพืชรุ่นก่อน "หยิบยืม" ไปใช้ เพื่อให้พืชรุ่นต่อไปเติบโตแข็งแรง ให้ผลผลิตที่ดี! 💪🌱&lt;/p&gt;&lt;/footer&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onRender: () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const commonChartOptions = { responsive: true, maintainAspectRatio: false, plugins: { tooltip: { callbacks: { title: (tooltipItems) =&gt; tooltipItems[0].label }, bodyFont: { family: 'Sarabun', size: 14 }, titleFont: { family: 'Sarabun', size: 16, weight: 'bold' } }, legend: { labels: { font: { family: 'Sarabun', size: 14 } } } }, scales: { x: { ticks: { font: { family: 'Sarabun', size: 12 } } }, y: { ticks: { font: { family: 'Sarabun', size: 12 } } } } };</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if(Chart.getChart("nutrientDepletionChart")) Chart.getChart("nutrientDepletionChart").destroy();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const nutrientDepletionCtx = document.getElementById('nutrientDepletionChart').getContext('2d');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>new Chart(nutrientDepletionCtx, { type: 'line', data: { labels: ['ฤดูที่ 1', 'ฤดูที่ 2', 'ฤดูที่ 3', 'ฤดูที่ 4'], datasets: [{ label: 'ไม่ใส่ปุ๋ย', data: [100, 70, 45, 20], borderColor: '#A63D40', backgroundColor: 'rgba(166, 61, 64, 0.2)', fill: true, tension: 0.1 }, { label: 'ใส่ปุ๋ยสม่ำเสมอ', data: [100, 98, 99, 100], borderColor: '#4A7C59', backgroundColor: 'rgba(74, 124, 89, 0.2)', fill: true, tension: 0.1 }] }, options: { ...commonChartOptions, scales: { ...commonChartOptions.scales, y: { ...commonChartOptions.scales.y, min: 0, max: 110, title: { display: true, text: 'ระดับธาตุอาหาร (%)' } } } } });</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if(Chart.getChart("fertilizerCompositionChart")) Chart.getChart("fertilizerCompositionChart").destroy();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const fertilizerCtx = document.getElementById('fertilizerCompositionChart').getContext('2d');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>new Chart(fertilizerCtx, { type: 'doughnut', data: { labels: ['ไนโตรเจน (N)', 'ฟอสฟอรัส (P)', 'โพแทสเซียม (K)'], datasets: [{ label: 'ส่วนประกอบหลัก', data: [40, 30, 30], backgroundColor: ['#4A7C59', '#8DB38B', '#D9B44A'], borderColor: '#FDF6E3', borderWidth: 5 }] }, options: { ...commonChartOptions } });</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ type: 'question', q: "ทำไมชาวสวนต้องใส่ปุ๋ยให้ต้นไม้ ทั้งๆ ที่ในดินก็น่าจะมีแร่ธาตุอยู่แล้ว?" },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'content',</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: 'ใส่ปุ๋ยเยอะไป...ทำไมถึงใจร้ายกับพืช?',</p>
<p class="p1"><span class="Apple-converted-space">                </span>htmlContent: `&lt;div style="background-color: #FFF8E7; padding: 1rem; border-radius: 15px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;header class="text-center mb-12"&gt;&lt;h1 class="text-4xl md:text-5xl font-bold mb-4" style="color: #BF360C;"&gt;ใส่ปุ๋ยเยอะไป...ทำไมถึงใจร้ายกับพืช?&lt;/h1&gt;&lt;p class="text-xl md:text-2xl" style="color: #D84315;"&gt;เมื่อความหวังดีกลายเป็นยาพิษ 😥&lt;/p&gt;&lt;/header&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;main class="space-y-12"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6"&gt;&lt;h2 class="text-3xl font-bold mb-4 text-center" style="color: #BF360C;"&gt;1. ดินเค็ม: ฆาตกรเงียบที่ "ขโมยน้ำ" จากพืช&lt;/h2&gt;&lt;p class="text-center text-lg mb-6"&gt;ปุ๋ยเคมีส่วนใหญ่มีสภาพเป็น "เกลือ" เมื่อใส่มากไป ดินจะเค็มจัดและเกิดปรากฏการณ์ "ดูดน้ำย้อนกลับ" เหมือนเอาเกลือไปโรยตัวทาก! 🐌&lt;/p&gt;&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-8"&gt;&lt;div class="osmosis-box" style="border-color: #4A7C59;"&gt;&lt;h3 class="text-2xl font-bold mb-3" style="color: #4A7C59;"&gt;สภาวะปกติ&lt;/h3&gt;&lt;div class="flex items-center justify-around"&gt;&lt;div class="text-center"&gt;&lt;div class="text-4xl"&gt;💧&lt;/div&gt;&lt;p&gt;ดิน (จาง)&lt;/p&gt;&lt;/div&gt;&lt;div class="arrow" style="color: #4A7C59;"&gt;→&lt;/div&gt;&lt;div class="text-center"&gt;&lt;div class="text-4xl"&gt;🌳&lt;/div&gt;&lt;p&gt;ราก (เข้มข้น)&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;p class="mt-4 text-lg font-bold"&gt;รากดูดน้ำจากดินได้สำเร็จ&lt;/p&gt;&lt;/div&gt;&lt;div class="osmosis-box" style="border-color: #BF360C;"&gt;&lt;h3 class="text-2xl font-bold mb-3" style="color: #BF360C;"&gt;ใส่ปุ๋ยมากไป (ดินเค็ม)&lt;/h3&gt;&lt;div class="flex items-center justify-around"&gt;&lt;div class="text-center"&gt;&lt;div class="text-4xl"&gt;💧&lt;/div&gt;&lt;p&gt;ดิน (เข้มข้นมาก)&lt;/p&gt;&lt;/div&gt;&lt;div class="arrow" style="color: #BF360C;"&gt;←&lt;/div&gt;&lt;div class="text-center"&gt;&lt;div class="text-4xl"&gt;🥀&lt;/div&gt;&lt;p&gt;ราก (จางกว่า)&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;p class="mt-4 text-lg font-bold"&gt;ดินกลับดูดน้ำออกจากราก!&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;p class="mt-6 text-xl text-center font-bold bg-orange-100 p-4 rounded-lg"&gt;พืชจะ "ขาดน้ำตาย" ทั้งๆ ที่ดินยังเปียก เหมือนคนลอยคออยู่กลางทะเลแต่ดื่มน้ำไม่ได้!&lt;/p&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6"&gt;&lt;h2 class="text-3xl font-bold mb-4 text-center" style="color: #BF360C;"&gt;2. แร่ธาตุเป็นพิษ: เมื่อของดีมีมากไป&lt;/h2&gt;&lt;p class="text-center text-lg mb-6"&gt;การมีธาตุอาหารบางตัวมากเกินไป จะไปกีดกันการดูดซึมธาตุอื่นที่จำเป็น และอาจทำลายเซลล์พืชโดยตรง&lt;/p&gt;&lt;div class="chart-container"&gt;&lt;canvas id="toxicityChart"&gt;&lt;/canvas&gt;&lt;/div&gt;&lt;p class="text-center text-sm italic mt-2"&gt;กราฟเปรียบเทียบระดับธาตุอาหารที่สมดุล (สีเขียว) กับภาวะที่ไนโตรเจน (N) สูงเกินจนขัดขวางธาตุอื่น (สีแดง)&lt;/p&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6"&gt;&lt;h2 class="text-3xl font-bold mb-6 text-center" style="color: #BF360C;"&gt;สังเกตอาการ "ใบไหม้" จากปุ๋ย (Fertilizer Burn)&lt;/h2&gt;&lt;div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 text-center"&gt;&lt;div class="bg-red-50 p-4 rounded-lg"&gt;&lt;div class="text-5xl mb-2"&gt;🍂&lt;/div&gt;&lt;h3 class="text-xl font-bold"&gt;ขอบใบแห้งกรอบ&lt;/h3&gt;&lt;p&gt;เหมือนโดนไฟลน มีสีน้ำตาลหรือดำ&lt;/p&gt;&lt;/div&gt;&lt;div class="bg-yellow-50 p-4 rounded-lg"&gt;&lt;div class="text-5xl mb-2"&gt;🟡&lt;/div&gt;&lt;h3 class="text-xl font-bold"&gt;ใบเหลือง&lt;/h3&gt;&lt;p&gt;โดยเฉพาะใบล่างๆ จะแสดงอาการก่อน&lt;/p&gt;&lt;/div&gt;&lt;div class="bg-orange-50 p-4 rounded-lg"&gt;&lt;div class="text-5xl mb-2"&gt;🥀&lt;/div&gt;&lt;h3 class="text-xl font-bold"&gt;ต้นเหี่ยวเฉา&lt;/h3&gt;&lt;p&gt;แม้จะรดน้ำเป็นประจำแล้วก็ตาม&lt;/p&gt;&lt;/div&gt;&lt;div class="bg-gray-100 p-4 rounded-lg"&gt;&lt;div class="text-5xl mb-2"&gt;📉&lt;/div&gt;&lt;h3 class="text-xl font-bold"&gt;โตช้า/หยุดโต&lt;/h3&gt;&lt;p&gt;การเจริญเติบโตหยุดชะงัก&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/main&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;footer class="text-center mt-12 p-6 rounded-lg" style="background-color: #BF360C; color: white;"&gt;&lt;p class="text-xl md:text-2xl font-bold"&gt;สรุป: การใส่ปุ๋ยมากไป เปลี่ยนดินจาก "ตู้กับข้าว" ให้กลายเป็น "ทะเลทรายเค็มจัด" ที่ทำร้ายพืช... รักต้นไม้ ต้องใส่ปุ๋ยให้พอดีนะครับ! 🌱💚&lt;/p&gt;&lt;/footer&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onRender: () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const commonChartOptions = { responsive: true, maintainAspectRatio: false, plugins: { tooltip: { callbacks: { title: (tooltipItems) =&gt; tooltipItems[0].label }, bodyFont: { family: 'Sarabun', size: 14 }, titleFont: { family: 'Sarabun', size: 16, weight: 'bold' } }, legend: { labels: { font: { family: 'Sarabun', size: 14 } } } }, scales: { x: { ticks: { font: { family: 'Sarabun', size: 12 } } }, y: { ticks: { font: { family: 'Sarabun', size: 12 }, min: 0, max: 140 }, title: { display: true, text: 'ระดับธาตุอาหาร (%)' } } } };</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if(Chart.getChart("toxicityChart")) Chart.getChart("toxicityChart").destroy();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const toxicityCtx = document.getElementById('toxicityChart').getContext('2d');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>new Chart(toxicityCtx, { type: 'bar', data: { labels: ['ไนโตรเจน (N)', 'ฟอสฟอรัส (P)', 'เหล็ก (Fe)', 'สังกะสี (Zn)'], datasets: [ { label: 'ภาวะสมดุล', data: [100, 100, 100, 100], backgroundColor: '#4A7C59', borderRadius: 5 }, { label: 'N สูงเกินไป', data: [130, 100, 40, 55], backgroundColor: '#D84315', borderRadius: 5 }] }, options: { ...commonChartOptions } });</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ type: 'question', q: "ถ้าเราใส่ปุ๋ยให้พืชเยอะๆ จะยิ่งทำให้พืชโตเร็วและแข็งแรงขึ้นเสมอไปหรือไม่? เพราะเหตุใด?" },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'content',</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: 'การปลูกพืชไร้ดิน (ไฮโดรโปนิกส์)',</p>
<p class="p1"><span class="Apple-converted-space">                </span>htmlContent: `&lt;div style="background-color: #F4F7F9; padding: 1rem; border-radius: 15px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;header class="text-center mb-12"&gt;&lt;h1 class="text-4xl md:text-5xl font-bold mb-4" style="color: #1A5276;"&gt;การปลูกพืชไร้ดิน (ไฮโดรโปนิกส์)&lt;/h1&gt;&lt;p class="text-xl md:text-2xl" style="color: #1E8449;"&gt;เทคโนโลยีที่เสิร์ฟ "บุฟเฟ่ต์อาหาร" ให้พืชตลอด 24 ชั่วโมง!&lt;/p&gt;&lt;/header&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;main class="space-y-12"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6"&gt;&lt;h2 class="text-3xl font-bold mb-6 text-center"&gt;ไฮโดรโปนิกส์...ทดแทนดินได้อย่างไร?&lt;/h2&gt;&lt;p class="text-center text-lg mb-6"&gt;ดินมีหน้าที่หลัก 2 อย่าง คือ **เป็นที่ยึดเกาะ** และ **เป็นแหล่งอาหาร** ระบบไฮโดรโปนิกส์ได้สร้างสภาวะที่ดีกว่าขึ้นมาทดแทนทั้ง 2 หน้าที่นี้&lt;/p&gt;&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-8"&gt;&lt;div class="comparison-box" style="border-color: #1E8449; border-top: 8px solid #1E8449;"&gt;&lt;div class="text-6xl mb-3"&gt;🍽️&lt;/div&gt;&lt;h3 class="text-2xl font-bold mb-3" style="color: #1E8449;"&gt;ทดแทนแหล่งอาหาร&lt;/h3&gt;&lt;p class="text-lg"&gt;เปลี่ยนจากการให้พืชต้องชอนไชหาอาหารในดิน มาเป็นการเสิร์ฟ **"สารละลายธาตุอาหาร"** ครบถ้วน, ส่งตรงถึงราก ให้พืชดูดซึมได้ทันที&lt;/p&gt;&lt;/div&gt;&lt;div class="comparison-box" style="border-color: #1A5276; border-top: 8px solid #1A5276;"&gt;&lt;div class="text-6xl mb-3"&gt;🏗️&lt;/div&gt;&lt;h3 class="text-2xl font-bold mb-3" style="color: #1A5276;"&gt;ทดแทนที่ยึดเกาะ&lt;/h3&gt;&lt;p class="text-lg"&gt;ใช้ **"วัสดุปลูกเฉื่อย"** ที่ไม่ทำปฏิกิริยาเคมี เช่น ฟองน้ำ, เพอร์ไลต์, ใยมะพร้าว ทำหน้าที่แค่ "ประคอง" ลำต้นให้ตั้งตรงเท่านั้น&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6"&gt;&lt;h2 class="text-3xl font-bold mb-4 text-center"&gt;"สารละลายธาตุอาหาร" คืออะไร?&lt;/h2&gt;&lt;p class="text-center text-lg mb-6"&gt;มันคือน้ำที่ผสม **"ปุ๋ยวิทยาศาสตร์"** ที่ละลายน้ำได้ 100% โดยจำลองแร่ธาตุในดินที่อุดมสมบูรณ์ ประกอบด้วยธาตุอาหารที่พืชต้องการครบทั้ง 16 ชนิด&lt;/p&gt;&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center"&gt;&lt;div&gt;&lt;div class="chart-container"&gt;&lt;canvas id="nutrientRatioChart"&gt;&lt;/canvas&gt;&lt;/div&gt;&lt;p class="text-center text-sm italic mt-2"&gt;กราฟเปรียบเทียบปริมาณที่พืชต้องการระหว่างมหธาตุและจุลธาตุ&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;h3 class="text-xl font-bold mb-2"&gt;มหธาตุ (Macronutrients)&lt;/h3&gt;&lt;p class="mb-4"&gt;กลุ่มธาตุอาหารที่พืชต้องการในปริมาณมาก เช่น N, P, K, Ca, Mg, S&lt;/p&gt;&lt;h3 class="text-xl font-bold mb-2"&gt;จุลธาตุ (Micronutrients)&lt;/h3&gt;&lt;p&gt;กลุ่มธาตุอาหารที่พืชต้องการในปริมาณน้อย แต่ขาดไม่ได้ เช่น Fe, Zn, B&lt;/p&gt;&lt;div class="mt-6 p-4 rounded-lg font-bold text-center" style="background-color: #D6EAF8; color: #1A5276;"&gt;&lt;p class="text-lg"&gt;กุญแจสำคัญ: ต้องปรับค่า pH ของสารละลายให้อยู่ที่ 5.5 - 6.5 เพื่อให้รากดูดซึมธาตุอาหารได้ดีที่สุด&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6"&gt;&lt;h2 class="text-3xl font-bold mb-6 text-center"&gt;วัสดุปลูกที่นิยมใช้แทนดิน&lt;/h2&gt;&lt;div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 text-center"&gt;&lt;div class="bg-blue-50 p-4 rounded-lg"&gt;&lt;div class="text-5xl mb-2"&gt;🧽&lt;/div&gt;&lt;h3 class="text-xl font-bold"&gt;ฟองน้ำ&lt;/h3&gt;&lt;p&gt;อุ้มน้ำได้ดี เหมาะสำหรับเพาะเมล็ด&lt;/p&gt;&lt;/div&gt;&lt;div class="bg-gray-100 p-4 rounded-lg"&gt;&lt;div class="text-5xl mb-2"&gt;⚪&lt;/div&gt;&lt;h3 class="text-xl font-bold"&gt;เพอร์ไลต์&lt;/h3&gt;&lt;p&gt;มีรูพรุนสูง ช่วยเพิ่มอากาศให้ราก&lt;/p&gt;&lt;/div&gt;&lt;div class="bg-yellow-50 p-4 rounded-lg"&gt;&lt;div class="text-5xl mb-2"&gt;🟫&lt;/div&gt;&lt;h3 class="text-xl font-bold"&gt;เวอร์มิคูไลต์&lt;/h3&gt;&lt;p&gt;เก็บความชื้นและธาตุอาหารได้ดี&lt;/p&gt;&lt;/div&gt;&lt;div class="bg-orange-50 p-4 rounded-lg"&gt;&lt;div class="text-5xl mb-2"&gt;🥥&lt;/div&gt;&lt;h3 class="text-xl font-bold"&gt;ใยมะพร้าว&lt;/h3&gt;&lt;p&gt;เป็นมิตรต่อสิ่งแวดล้อมและโปร่ง&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/main&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;footer class="text-center mt-12 p-6 rounded-lg" style="background-color: #1A5276; color: white;"&gt;&lt;p class="text-xl md:text-2xl font-bold"&gt;สรุป: สารละลายธาตุอาหารใช้แทนดินได้ เพราะมันทำหน้าที่ "เป็นแหล่งอาหารที่ดีกว่า" ทำให้พืชนำพลังงานทั้งหมดไปใช้ในการเติบโตได้อย่างเต็มที่! 🌱💧&lt;/p&gt;&lt;/footer&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`,</p>
<p class="p1"><span class="Apple-converted-space">                 </span>onRender: () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const commonChartOptions = { responsive: true, maintainAspectRatio: false, plugins: { tooltip: { callbacks: { title: (tooltipItems) =&gt; tooltipItems[0].label }, bodyFont: { family: 'Sarabun', size: 14 }, titleFont: { family: 'Sarabun', size: 16, weight: 'bold' } }, legend: { position: 'bottom', labels: { font: { family: 'Sarabun', size: 14 } } } } };</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if(Chart.getChart("nutrientRatioChart")) Chart.getChart("nutrientRatioChart").destroy();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const nutrientRatioCtx = document.getElementById('nutrientRatioChart').getContext('2d');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>new Chart(nutrientRatioCtx, { type: 'bar', data: { labels: ['มหธาตุ (ต้องการมาก)', 'จุลธาตุ (ต้องการน้อย)'], datasets: [{ label: 'ปริมาณที่พืชต้องการ (เปรียบเทียบ)', data: [100, 5], backgroundColor: ['#1E8449', '#ABEBC6'], borderRadius: 5, barPercentage: 0.6 }] }, options: { ...commonChartOptions, indexAxis: 'y', scales: { x: { display: false, grid: { display: false }, border: { display: false } }, y: { ticks: { font: { family: 'Sarabun', size: 14 } }, grid: { display: false } } }, plugins: { ...commonChartOptions.plugins, legend: { display: false } } } });</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ type: 'question', q: "พืชที่ปลูกในน้ำ (ไฮโดรโปนิกส์) ได้รับสารอาหารจากที่ไหนและอย่างไร?" },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'content',</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: 'เจาะลึก N-P-K: กลไกชีวเคมีและอาการขาดธาตุอาหาร',</p>
<p class="p1"><span class="Apple-converted-space">                </span>htmlContent: `&lt;div style="background-color: #F8F9FA; padding: 1rem; border-radius: 15px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;header class="text-center mb-12"&gt;&lt;h1 class="text-4xl md:text-5xl font-bold mb-4" style="color: #2E4053;"&gt;เจาะลึก N-P-K: กลไกชีวเคมีและอาการขาดธาตุอาหาร&lt;/h1&gt;&lt;p class="text-xl md:text-2xl" style="color: #566573;"&gt;เข้าใจหน้าที่ที่แท้จริงของ 3 ทหารเสือแห่งโลกพืชในระดับโมเลกุล&lt;/p&gt;&lt;/header&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;main class="space-y-16"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;section&gt;&lt;div class="card p-6" style="border-left: 5px solid #2980B9;"&gt;&lt;h2 class="text-3xl font-bold mb-4" style="color: #2980B9;"&gt;ไนโตรเจน (N): สถาปนิกหลักของสิ่งมีชีวิต 🧬&lt;/h2&gt;&lt;div class="grid grid-cols-1 lg:grid-cols-2 gap-8"&gt;&lt;div&gt;&lt;h3 class="text-2xl font-bold mb-3"&gt;บทบาททางชีวเคมี&lt;/h3&gt;&lt;ul class="space-y-3 text-lg list-disc list-inside"&gt;&lt;li&gt;&lt;strong&gt;องค์ประกอบของโปรตีน:&lt;/strong&gt; เป็นส่วนประกอบหลักของ &lt;span class="font-bold"&gt;กรดอะมิโน&lt;/span&gt; ซึ่งนำไปสร้างโปรตีนทุกชนิดในพืช (เอนไซม์, โครงสร้างเซลล์)&lt;/li&gt;&lt;li&gt;&lt;strong&gt;หัวใจของคลอโรฟิลล์:&lt;/strong&gt; เป็นอะตอมแกนกลางของโมเลกุล &lt;span class="font-bold"&gt;คลอโรฟิลล์&lt;/span&gt; ที่ใช้ดักจับพลังงานแสง&lt;/li&gt;&lt;li&gt;&lt;strong&gt;ส่วนประกอบของสารพันธุกรรม:&lt;/strong&gt; เป็นองค์ประกอบสำคัญของ &lt;span class="font-bold"&gt;DNA และ RNA&lt;/span&gt; ที่ควบคุมเซลล์&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class="symptom-card" style="background-color: #FFF8E1; border: 2px solid #FFECB3; border-radius: 0.75rem; padding: 1rem;"&gt;&lt;h3 class="text-2xl font-bold mb-3"&gt;อาการเมื่อขาด (N)&lt;/h3&gt;&lt;div class="mb-3"&gt;&lt;span class="mobile-nutrient-tag" style="background-color: #E3F2FD; color: #1565C0; padding: 0.25rem 0.75rem; border-radius: 9999px; font-weight: bold; font-size: 0.9rem; display:inline-block;"&gt;ธาตุอาหารเคลื่อนที่ได้&lt;/span&gt;&lt;/div&gt;&lt;ul class="space-y-3 text-lg list-disc list-inside"&gt;&lt;li&gt;&lt;strong&gt;ใบเหลืองทั่วทั้งใบ (Uniform Chlorosis):&lt;/strong&gt; เกิดจากสร้างคลอโรฟิลล์ไม่ได้&lt;/li&gt;&lt;li&gt;&lt;strong&gt;แสดงอาการที่ใบล่างก่อน:&lt;/strong&gt; พืชดึง N จากใบแก่ไปเลี้ยงยอดอ่อนที่สำคัญกว่า&lt;/li&gt;&lt;li&gt;&lt;strong&gt;การเจริญเติบโตชะงัก:&lt;/strong&gt; พืชแคระแกร็นเพราะสร้างโปรตีนและสังเคราะห์แสงไม่ได้&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/section&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;section&gt;&lt;div class="card p-6" style="border-left: 5px solid #8E44AD;"&gt;&lt;h2 class="text-3xl font-bold mb-4" style="color: #8E44AD;"&gt;ฟอสฟอรัส (P): ผู้จัดการด้านพลังงานและการสืบพันธุ์ 🔋&lt;/h2&gt;&lt;div class="grid grid-cols-1 lg:grid-cols-2 gap-8"&gt;&lt;div&gt;&lt;h3 class="text-2xl font-bold mb-3"&gt;บทบาททางชีวเคมี&lt;/h3&gt;&lt;ul class="space-y-3 text-lg list-disc list-inside"&gt;&lt;li&gt;&lt;strong&gt;สกุลเงินพลังงานของเซลล์:&lt;/strong&gt; เป็นองค์ประกอบสำคัญของ &lt;span class="font-bold"&gt;ATP&lt;/span&gt; ซึ่งเป็น "แบตเตอรี่" ให้พลังงานทุกกิจกรรมในเซลล์&lt;/li&gt;&lt;li&gt;&lt;strong&gt;โครงสร้างของสารพันธุกรรม:&lt;/strong&gt; เป็น "กระดูกสันหลัง" ของสาย &lt;span class="font-bold"&gt;DNA และ RNA&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;ส่วนประกอบของเยื่อหุ้มเซลล์:&lt;/strong&gt; เป็นโครงสร้างหลักของ &lt;span class="font-bold"&gt;ฟอสโฟลิพิด&lt;/span&gt; ที่ควบคุมการเข้าออกของสาร&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class="symptom-card" style="background-color: #FFF8E1; border: 2px solid #FFECB3; border-radius: 0.75rem; padding: 1rem;"&gt;&lt;h3 class="text-2xl font-bold mb-3"&gt;อาการเมื่อขาด (P)&lt;/h3&gt;&lt;div class="mb-3"&gt;&lt;span class="mobile-nutrient-tag" style="background-color: #E3F2FD; color: #1565C0; padding: 0.25rem 0.75rem; border-radius: 9999px; font-weight: bold; font-size: 0.9rem; display:inline-block;"&gt;ธาตุอาหารเคลื่อนที่ได้&lt;/span&gt;&lt;/div&gt;&lt;ul class="space-y-3 text-lg list-disc list-inside"&gt;&lt;li&gt;&lt;strong&gt;ใบสีม่วงแดง:&lt;/strong&gt; เกิดจากการสะสมของสารสีม่วง &lt;span class="font-bold"&gt;แอนโทไซยานิน&lt;/span&gt; เนื่องจากเผาผลาญพลังงานผิดปกติ&lt;/li&gt;&lt;li&gt;&lt;strong&gt;แสดงอาการที่ใบล่างก่อน:&lt;/strong&gt; พืชสามารถดึง P จากใบแก่ไปใช้ได้&lt;/li&gt;&lt;li&gt;&lt;strong&gt;ยับยั้งการออกดอกและติดผล:&lt;/strong&gt; กระบวนการสืบพันธุ์ใช้พลังงาน (ATP) สูงมาก&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/section&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;section&gt;&lt;div class="card p-6" style="border-left: 5px solid #D35400;"&gt;&lt;h2 class="text-3xl font-bold mb-4" style="color: #D35400;"&gt;โพแทสเซียม (K): ผู้ควบคุมและผู้พิทักษ์ 🛡️&lt;/h2&gt;&lt;div class="grid grid-cols-1 lg:grid-cols-2 gap-8"&gt;&lt;div&gt;&lt;h3 class="text-2xl font-bold mb-3"&gt;บทบาททางชีวเคมี&lt;/h3&gt;&lt;ul class="space-y-3 text-lg list-disc list-inside"&gt;&lt;li&gt;&lt;strong&gt;ควบคุมสมดุลน้ำ:&lt;/strong&gt; เป็นตัวควบคุมหลักในการเปิด-ปิดของ &lt;span class="font-bold"&gt;ปากใบ (Stomata)&lt;/span&gt; เพื่อคุมการคายน้ำ&lt;/li&gt;&lt;li&gt;&lt;strong&gt;กระตุ้นการทำงานของเอนไซม์:&lt;/strong&gt; เอนไซม์กว่า 60 ชนิดต้องมี K+ เป็น &lt;span class="font-bold"&gt;ตัวกระตุ้น (Activator)&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;การขนส่งน้ำตาล:&lt;/strong&gt; ช่วยลำเลียงน้ำตาลจากใบไปเก็บยังผลหรือหัว ทำให้ผลผลิตมีคุณภาพ&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div class="symptom-card" style="background-color: #FFF8E1; border: 2px solid #FFECB3; border-radius: 0.75rem; padding: 1rem;"&gt;&lt;h3 class="text-2xl font-bold mb-3"&gt;อาการเมื่อขาด (K)&lt;/h3&gt;&lt;div class="mb-3"&gt;&lt;span class="mobile-nutrient-tag" style="background-color: #E3F2FD; color: #1565C0; padding: 0.25rem 0.75rem; border-radius: 9999px; font-weight: bold; font-size: 0.9rem; display:inline-block;"&gt;ธาตุอาหารเคลื่อนที่ได้&lt;/span&gt;&lt;/div&gt;&lt;ul class="space-y-3 text-lg list-disc list-inside"&gt;&lt;li&gt;&lt;strong&gt;ขอบใบไหม้ (Marginal Scorch):&lt;/strong&gt; เซลล์ที่ขอบใบควบคุมน้ำไม่ได้จนแห้งตาย&lt;/li&gt;&lt;li&gt;&lt;strong&gt;แสดงอาการที่ใบล่างก่อน:&lt;/strong&gt; พืชดึง K จากใบแก่ไปใช้ได้เช่นกัน&lt;/li&gt;&lt;li&gt;&lt;strong&gt;ลำต้นอ่อนแอและเป็นโรคง่าย:&lt;/strong&gt; การสร้างแป้งและระบบป้องกันตัวลดลง&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/section&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;section&gt;&lt;h2 class="text-3xl font-bold text-center mb-8"&gt;สถานการณ์จำลองเพื่อการวิเคราะห์เชิงลึก 🕵️‍♂️&lt;/h2&gt;&lt;div class="grid grid-cols-1 md:grid-cols-3 gap-8"&gt;&lt;div class="bg-white p-6 rounded-lg shadow-lg"&gt;&lt;h3 class="text-2xl font-bold mb-3"&gt;แปลง A&lt;/h3&gt;&lt;p class="mb-4"&gt;&lt;strong&gt;ลักษณะที่พบ:&lt;/strong&gt; ต้นแคระแกร็น ใบล่างเหลืองซีดสม่ำเสมอทั่วทั้งใบ&lt;/p&gt;&lt;div class="bg-blue-50 p-4 rounded"&gt;&lt;p class="font-bold text-lg"&gt;วินิจฉัย: ขาดไนโตรเจน (N)&lt;/p&gt;&lt;p&gt;&lt;strong&gt;เหตุผล:&lt;/strong&gt; อาการเหลืองซีด (คลอโรซิส) ที่สม่ำเสมอและเริ่มจากใบล่าง เป็นลักษณะคลาสสิกของ N ที่ถูกดึงไปเลี้ยงยอดอ่อน&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="bg-white p-6 rounded-lg shadow-lg"&gt;&lt;h3 class="text-2xl font-bold mb-3"&gt;แปลง B&lt;/h3&gt;&lt;p class="mb-4"&gt;&lt;strong&gt;ลักษณะที่พบ:&lt;/strong&gt; โตช้า ใบสีเขียวเข้มผิดปกติ และมีสีม่วงปนที่ก้านใบ&lt;/p&gt;&lt;div class="bg-purple-50 p-4 rounded"&gt;&lt;p class="font-bold text-lg"&gt;วินิจฉัย: ขาดฟอสฟอรัส (P)&lt;/p&gt;&lt;p&gt;&lt;strong&gt;เหตุผล:&lt;/strong&gt; การปรากฏของสีม่วง (แอนโทไซยานิน) เป็นสัญญาณบ่งชี้ความผิดปกติในการใช้พลังงาน ซึ่งเป็นผลโดยตรงจากการขาด P&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="bg-white p-6 rounded-lg shadow-lg"&gt;&lt;h3 class="text-2xl font-bold mb-3"&gt;แปลง C&lt;/h3&gt;&lt;p class="mb-4"&gt;&lt;strong&gt;ลักษณะที่พบ:&lt;/strong&gt; ใบแก่ด้านล่างมีขอบใบเหลืองและแห้งกรอบเป็นสีน้ำตาล&lt;/p&gt;&lt;div class="bg-orange-50 p-4 rounded"&gt;&lt;p class="font-bold text-lg"&gt;วินิจฉัย: ขาดโพแทสเซียม (K)&lt;/p&gt;&lt;p&gt;&lt;strong&gt;เหตุผล:&lt;/strong&gt; อาการ "ขอบใบไหม้" ที่เกิดเฉพาะบริเวณขอบของใบล่าง เป็นลักษณะจำเพาะของการขาด K ที่ล้มเหลวในการควบคุมน้ำ&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/section&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/main&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;footer class="text-center mt-16 p-6 rounded-lg" style="background-color: #2E4053; color: white;"&gt;&lt;p class="text-xl md:text-2xl font-bold"&gt;การเข้าใจอาการขาดธาตุอาหาร N-P-K อย่างลึกซึ้ง คือหัวใจของการเป็นนักปลูกพืชมืออาชีพ! 🌱🔬&lt;/p&gt;&lt;/footer&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ type: 'question', q: "ทำไมปุ๋ยสำหรับเร่ง 'ดอก' และ 'ผล' ถึงมีสัดส่วนของธาตุฟอสฟอรัส (P) และโพแทสเซียม (K) สูงกว่าไนโตรเจน (N)?" },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'content',</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: 'พลังพิเศษของพืชตระกูลถั่ว',</p>
<p class="p1"><span class="Apple-converted-space">                </span>htmlContent: `&lt;div style="background-color: #F4FBF7; padding: 1rem; border-radius: 15px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;header class="text-center mb-12"&gt;&lt;h1 class="text-4xl md:text-5xl font-bold mb-4" style="color: #229954;"&gt;พลังพิเศษของพืชตระกูลถั่ว&lt;/h1&gt;&lt;p class="text-xl md:text-2xl" style="color: #28B463;"&gt;ไขความลับ "โรงงานผลิตปุ๋ย" ที่รากพืช&lt;/p&gt;&lt;/header&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;main class="space-y-12"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6 grid grid-cols-1 md:grid-cols-2 gap-8 items-center"&gt;&lt;div&gt;&lt;h2 class="text-3xl font-bold mb-4"&gt;ปมปัญหา: ไนโตรเจนในอากาศที่ใช้ไม่ได้&lt;/h2&gt;&lt;p class="text-lg"&gt;อากาศที่เราหายใจประกอบด้วยไนโตรเจน (N₂) มากถึง 78% แต่พืชส่วนใหญ่ใช้ไม่ได้โดยตรง เพราะมีพันธะที่แข็งแรงเกินไป เปรียบเสมือน **คลังสมบัติที่ถูกล็อกไว้** 🔒&lt;/p&gt;&lt;/div&gt;&lt;div class="chart-container" style="height:300px;"&gt;&lt;canvas id="airCompositionChart"&gt;&lt;/canvas&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6"&gt;&lt;h2 class="text-3xl font-bold mb-6 text-center"&gt;กุญแจมหัศจรรย์: การสร้าง "โรงงานผลิตปุ๋ย" (ปมราก)&lt;/h2&gt;&lt;p class="text-center text-lg mb-8"&gt;พืชตระกูลถั่วสร้างความสัมพันธ์แบบพึ่งพาอาศัย (Symbiosis) กับแบคทีเรีย **"ไรโซเบียม" (Rhizobium)** ผ่านการสื่อสารทางเคมีที่น่าทึ่ง&lt;/p&gt;&lt;div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4 text-center"&gt;&lt;div class="flex flex-col items-center"&gt;&lt;div class="text-5xl mb-2"&gt;💌&lt;/div&gt;&lt;div class="p-3 bg-gray-50 rounded-lg"&gt;&lt;h3 class="font-bold"&gt;1. ส่งสัญญาณ&lt;/h3&gt;&lt;p&gt;รากปล่อยสาร "ฟลาโวนอยด์" เชิญชวนไรโซเบียม&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="flow-arrow hidden md:block" style="color: #27AE60;"&gt;→&lt;/div&gt;&lt;div class="flow-arrow block md:hidden" style="color: #27AE60;"&gt;↓&lt;/div&gt;&lt;div class="flex flex-col items-center"&gt;&lt;div class="text-5xl mb-2"&gt;🤝&lt;/div&gt;&lt;div class="p-3 bg-gray-50 rounded-lg"&gt;&lt;h3 class="font-bold"&gt;2. ตอบรับ&lt;/h3&gt;&lt;p&gt;ไรโซเบียมเคลื่อนเข้าหาและสร้าง "ปมราก"&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="flow-arrow hidden md:block" style="color: #27AE60;"&gt;→&lt;/div&gt;&lt;div class="flow-arrow block md:hidden" style="color: #27AE60;"&gt;↓&lt;/div&gt;&lt;div class="flex flex-col items-center"&gt;&lt;div class="text-5xl mb-2"&gt;🏭&lt;/div&gt;&lt;div class="p-3 bg-gray-50 rounded-lg"&gt;&lt;h3 class="font-bold"&gt;3. ตั้งโรงงาน&lt;/h3&gt;&lt;p&gt;แบคทีเรียเข้าไปอาศัยและพร้อมทำงาน&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6"&gt;&lt;h2 class="text-3xl font-bold mb-4 text-center"&gt;ปฏิกิริยาเคมีเปลี่ยนโลก: การตรึงไนโตรเจน&lt;/h2&gt;&lt;p class="text-center text-lg mb-8"&gt;ภายในปมรากที่ปลอดภัยนี้เอง คือที่ที่ปาฏิหาริย์ทางชีวเคมีเกิดขึ้น&lt;/p&gt;&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start"&gt;&lt;div class="bg-green-50 p-6 rounded-lg h-full"&gt;&lt;h3 class="text-xl font-bold mb-3"&gt;1. เอนไซม์ "ไนโตรจีเนส" ทำงาน&lt;/h3&gt;&lt;p&gt;แบคทีเรียผลิตเอนไซม์พิเศษนี้เพื่อ **สลายพันธะสามที่แข็งแกร่ง** ของไนโตรเจนในอากาศ (N₂)&lt;/p&gt;&lt;div class="text-center my-4 font-mono text-xl"&gt;N≡N &lt;span class="text-2xl text-red-500"&gt;→&lt;/span&gt; N + N&lt;/div&gt;&lt;/div&gt;&lt;div class="bg-blue-50 p-6 rounded-lg h-full"&gt;&lt;h3 class="text-xl font-bold mb-3"&gt;2. เปลี่ยนรูปเป็นปุ๋ย&lt;/h3&gt;&lt;p&gt;เอนไซม์เปลี่ยนแก๊สไนโตรเจน (N₂) ให้กลายเป็น **แอมโมเนีย (NH₃)** ซึ่งเป็นรูปที่พืชดูดซึมได้ทันที&lt;/p&gt;&lt;div class="text-center my-4 font-mono text-xl"&gt;N₂ &lt;span class="text-2xl text-green-600"&gt;→&lt;/span&gt; 2NH₃&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="mt-8 bg-pink-50 p-6 rounded-lg border-2 border-pink-200"&gt;&lt;h3 class="text-xl font-bold mb-3 text-center"&gt;ผู้พิทักษ์สีชมพู: เลกฮีโมโกลบิน&lt;/h3&gt;&lt;p class="text-center"&gt;เอนไซม์ไนโตรจีเนสจะถูกทำลายหากโดนออกซิเจน พืชจึงสร้าง **"เลกฮีโมโกลบิน"** (คล้ายฮีโมโกลบินในเลือด) เพื่อดักจับออกซิเจนส่วนเกิน ทำให้เอนไซม์ทำงานได้ปลอดภัย (นี่คือสาเหตุที่ปมรากมีสีชมพูแดง!)&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6 grid grid-cols-1 md:grid-cols-2 gap-8 items-center"&gt;&lt;div class="text-center"&gt;&lt;h2 class="text-3xl font-bold mb-4"&gt;ข้อตกลงแบบ Win-Win&lt;/h2&gt;&lt;div class="text-5xl"&gt;🤝&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div class="bg-green-100 p-4 rounded-lg mb-4"&gt;&lt;p class="text-lg"&gt;&lt;span class="font-bold"&gt;พืชได้:&lt;/span&gt; ไนโตรเจน (NH₃) ที่พร้อมใช้งาน เหมือนมีโรงงานผลิตปุ๋ยติดตัว&lt;/p&gt;&lt;/div&gt;&lt;div class="bg-yellow-100 p-4 rounded-lg"&gt;&lt;p class="text-lg"&gt;&lt;span class="font-bold"&gt;แบคทีเรียได้:&lt;/span&gt; คาร์โบไฮเดรต (น้ำตาล) จากการสังเคราะห์แสง เพื่อเป็นอาหารและพลังงาน&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6"&gt;&lt;h2 class="text-3xl font-bold mb-6 text-center"&gt;มรดกแห่งความอุดมสมบูรณ์สู่ดิน&lt;/h2&gt;&lt;p class="text-center text-lg mb-6"&gt;เมื่อพืชตระกูลถั่วตายลง ไนโตรเจนที่ตรึงไว้จะถูกปล่อยกลับคืนสู่ดิน เกษตรกรจึงนิยมใช้เป็น&lt;/p&gt;&lt;div class="flex justify-around text-center"&gt;&lt;div&gt;&lt;div class="text-5xl mb-2"&gt;🔄&lt;/div&gt;&lt;h3 class="text-xl font-bold"&gt;พืชหมุนเวียน&lt;/h3&gt;&lt;p&gt;ปลูกสลับกับพืชอื่น&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;div class="text-5xl mb-2"&gt;🌱&lt;/div&gt;&lt;h3 class="text-xl font-bold"&gt;ปุ๋ยพืชสด&lt;/h3&gt;&lt;p&gt;ไถกลบเพื่อบำรุงดิน&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/main&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;footer class="text-center mt-12 p-6 rounded-lg" style="background-color: #229954; color: white;"&gt;&lt;p class="text-xl md:text-2xl font-bold"&gt;ความสัมพันธ์ระหว่างพืชตระกูลถั่วและไรโซเบียม คือหนึ่งในกลไกทางธรรมชาติที่สำคัญที่สุดในการสร้างความอุดมสมบูรณ์ให้แก่โลกของเรา! 🌍💚&lt;/p&gt;&lt;/footer&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onRender: () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const commonChartOptions = { responsive: true, maintainAspectRatio: false, plugins: { tooltip: { callbacks: { title: (tooltipItems) =&gt; tooltipItems[0].label }, bodyFont: { family: 'Sarabun', size: 14 }, titleFont: { family: 'Sarabun', size: 16, weight: 'bold' } }, legend: { position: 'bottom', labels: { font: { family: 'Sarabun', size: 14 } } } } };</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if(Chart.getChart("airCompositionChart")) Chart.getChart("airCompositionChart").destroy();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const airCompositionCtx = document.getElementById('airCompositionChart').getContext('2d');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>new Chart(airCompositionCtx, { type: 'doughnut', data: { labels: ['ไนโตรเจน (N₂) - ใช้ไม่ได้', 'ออกซิเจนและอื่นๆ'], datasets: [{ label: 'ส่วนประกอบในอากาศ', data: [78, 22], backgroundColor: ['#AAB7B8', '#5DADE2'], borderColor: '#F4FBF7', borderWidth: 5 }] }, options: { ...commonChartOptions } });</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ type: 'question', q: "ทำไมเกษตรกรจึงนิยมปลูกพืชตระกูลถั่วสลับกับพืชชนิดอื่น?" },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'content',</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: 'pH ดิน กุญแจไขคลังอาหารพืช',</p>
<p class="p1"><span class="Apple-converted-space">                </span>htmlContent: `&lt;div style="background-color: #F8F9F9; padding: 1rem; border-radius: 15px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;header class="text-center mb-12"&gt;&lt;h1 class="text-4xl md:text-5xl font-bold mb-4" style="color: #4A5568;"&gt;pH ดิน: กุญแจสำคัญสู่คลังธาตุอาหาร&lt;/h1&gt;&lt;p class="text-xl md:text-2xl" style="color: #718096;"&gt;"ผู้ควบคุม" ที่จะปลดล็อกหรือกักขังธาตุอาหารไม่ให้พืชใช้&lt;/p&gt;&lt;/header&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;main class="space-y-12"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6 text-center"&gt;&lt;h2 class="text-3xl font-bold mb-4"&gt;กุญแจที่พอดี...ไขประตูได้&lt;/h2&gt;&lt;p class="text-lg max-w-3xl mx-auto mb-6"&gt;ลองจินตนาการว่าธาตุอาหารในดินคือ **อาหารในตู้กับข้าว** และรากพืชคือ **ประตู** ค่า pH ดินก็คือ **"กุญแจ"** ที่จะใช้ไขประตูนั้น ถ้ากุญแจผิดเบอร์ (pH ไม่เหมาะสม) แม้จะมีอาหารเต็มตู้ พืชก็อดตายได้!&lt;/p&gt;&lt;div class="text-7xl"&gt;🔑&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-stretch"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="card"&gt;&lt;div class="comparison-box" style="border-top: 5px solid #E53E3E;"&gt;&lt;h3 class="text-2xl font-bold text-center mb-3" style="color: #E53E3E;"&gt;ปัญหาดินเปรี้ยว (pH &lt; 6.0)&lt;/h3&gt;&lt;ul class="space-y-3 text-lg list-disc list-inside text-left"&gt;&lt;li&gt;&lt;strong&gt;ตรึงธาตุอาหารหลัก:&lt;/strong&gt; N, P, K, Ca, Mg ถูกดินยึดไว้ พืชดูดซึมได้ยาก&lt;/li&gt;&lt;li&gt;&lt;strong&gt;พิษของโลหะหนัก:&lt;/strong&gt; อะลูมิเนียม (Al) และแมงกานีส (Mn) ละลายออกมามากเกินไปจนเป็นพิษต่อราก&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="card transform lg:scale-110 z-10"&gt;&lt;div class="comparison-box" style="border-top: 5px solid #38A169;"&gt;&lt;h3 class="text-2xl font-bold text-center mb-3" style="color: #38A169;"&gt;ดินเหมาะสม (pH 6.0 - 7.0)&lt;/h3&gt;&lt;ul class="space-y-3 text-lg list-disc list-inside text-left"&gt;&lt;li&gt;&lt;strong&gt;กุญแจที่พอดี:&lt;/strong&gt; ธาตุอาหารหลักและจุลธาตุส่วนใหญ่อยู่ในรูปที่พืชดูดซึมไปใช้ได้ดีที่สุด&lt;/li&gt;&lt;li&gt;&lt;strong&gt;ปลดล็อกเต็มประสิทธิภาพ:&lt;/strong&gt; พืชเจริญเติบโตแข็งแรง สมบูรณ์&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="card"&gt;&lt;div class="comparison-box" style="border-top: 5px solid #3182CE;"&gt;&lt;h3 class="text-2xl font-bold text-center mb-3" style="color: #3182CE;"&gt;ปัญหาดินด่าง/เค็ม (pH &gt; 7.5)&lt;/h3&gt;&lt;ul class="space-y-3 text-lg list-disc list-inside text-left"&gt;&lt;li&gt;&lt;strong&gt;ตรึงจุลธาตุ:&lt;/strong&gt; เหล็ก (Fe), แมงกานีส (Mn), สังกะสี (Zn) ถูกตรึงไว้ พืชแสดงอาการขาดธาตุที่ยอดอ่อน&lt;/li&gt;&lt;li&gt;&lt;strong&gt;ภาวะขาดน้ำ (Osmotic Stress):&lt;/strong&gt; ความเค็มของดิน "ดูด" น้ำออกจากรากพืช ทำให้พืชเหี่ยวเฉา&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6"&gt;&lt;h2 class="text-3xl font-bold mb-4 text-center"&gt;แผนภูมิการปลดล็อกธาตุอาหาร ณ ค่า pH ต่างๆ&lt;/h2&gt;&lt;p class="text-center text-lg mb-6"&gt;ความหนาของแถบสีเขียว แสดงถึงความสามารถของพืชในการดูดซึมธาตุอาหารแต่ละชนิด&lt;/p&gt;&lt;div class="chart-container" style="height: 500px;"&gt;&lt;canvas id="phAvailabilityChart"&gt;&lt;/canvas&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/main&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;footer class="text-center mt-16 p-6 rounded-lg" style="background-color: #4A5568; color: white;"&gt;&lt;p class="text-xl md:text-2xl font-bold"&gt;การจัดการค่า pH ดิน คือการสร้าง "กุญแจที่ถูกต้อง" เพื่อไขประตูคลังสมบัติและปลดล็อกธาตุอาหารทั้งหมดให้พืชใช้ได้อย่างเต็มที่! 🌱&lt;/p&gt;&lt;/footer&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`,</p>
<p class="p1"><span class="Apple-converted-space">                </span>onRender: () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if(Chart.getChart("phAvailabilityChart")) Chart.getChart("phAvailabilityChart").destroy();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const phAvailabilityCtx = document.getElementById('phAvailabilityChart').getContext('2d');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>new Chart(phAvailabilityCtx, { type: 'bar', data: { labels: ['ไนโตรเจน (N)', 'ฟอสฟอรัส (P)', 'โพแทสเซียม (K)', 'แคลเซียม (Ca)', 'แมกนีเซียม (Mg)', 'เหล็ก (Fe)', 'แมงกานีส (Mn)', 'สังกะสี (Zn)'], datasets: [{ label: 'ช่วงเป็นกรด (ถูกตรึง/เป็นพิษ)', data: [8, 2, 8, 6, 6, 10, 10, 9], backgroundColor: 'rgba(229, 62, 62, 0.6)', stack: 'Stack 0', barPercentage: 0.8, categoryPercentage: 0.9 }, { label: 'ช่วงเหมาะสม (พร้อมใช้)', data: [10, 10, 10, 10, 10, 8, 7, 8], backgroundColor: 'rgba(56, 161, 105, 0.8)', stack: 'Stack 0', }, { label: 'ช่วงเป็นด่าง (ถูกตรึง)', data: [9, 8, 9, 9, 9, 1, 2, 1], backgroundColor: 'rgba(49, 130, 206, 0.6)', stack: 'Stack 0', }] }, options: { indexAxis: 'y', responsive: true, maintainAspectRatio: false, plugins: { title: { display: false }, tooltip: { callbacks: { title: (tooltipItems) =&gt; tooltipItems[0].label } }, legend: { position: 'bottom' } }, scales: { x: { stacked: true, display: false, }, y: { stacked: true, ticks: { font: { family: 'Sarabun', size: 14, weight: 'bold' } } } } } });</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ type: 'question', q: "ถ้าดินมีสภาพเป็นกรดหรือด่างมากเกินไป จะส่งผลต่อการดูดซึมแร่ธาตุของพืชอย่างไร?" },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'content',</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: 'คู่มือวินิจฉัยอาการขาดธาตุอาหารพืช',</p>
<p class="p1"><span class="Apple-converted-space">                </span>htmlContent: `&lt;div style="background-color: #F9FAFB; padding: 1rem; border-radius: 15px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;header class="text-center mb-12"&gt;&lt;h1 class="text-4xl md:text-5xl font-bold mb-4" style="color: #111827;"&gt;คู่มือวินิจฉัยอาการขาดธาตุอาหารพืช&lt;/h1&gt;&lt;p class="text-xl md:text-2xl" style="color: #4B5563;"&gt;มาเป็น "หมอ" รักษาต้นไม้ ด้วยการสังเกตตำแหน่งและลักษณะอาการ&lt;/p&gt;&lt;/header&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;main class="space-y-16"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;section&gt;&lt;h2 class="text-3xl font-bold mb-6"&gt;ธาตุอาหารหลัก (Primary Macronutrients)&lt;/h2&gt;&lt;div class="grid grid-cols-1 md:grid-cols-3 gap-8"&gt;&lt;div class="card nutrient-card" style="border-left: 5px solid #3B82F6;"&gt;&lt;h3 class="text-2xl font-bold"&gt;ไนโตรเจน (N)&lt;/h3&gt;&lt;p class="text-gray-600 mb-3"&gt;บำรุงใบและลำต้น&lt;/p&gt;&lt;div class="location-tag old-leaf mb-3" style="background-color: #FEF3C7; color: #92400E; display: inline-block; padding: 0.25rem 0.75rem; border-radius: 9999px; font-weight: bold; font-size: 0.9rem;"&gt;🍂 เกิดที่ใบแก่&lt;/div&gt;&lt;p class="text-lg"&gt;&lt;strong&gt;อาการ:&lt;/strong&gt; ใบเหลืองซีดทั่วทั้งใบ (Uniform Chlorosis) ต้นแคระแกร็น&lt;/p&gt;&lt;/div&gt;&lt;div class="card nutrient-card" style="border-left: 5px solid #8B5CF6;"&gt;&lt;h3 class="text-2xl font-bold"&gt;ฟอสฟอรัส (P)&lt;/h3&gt;&lt;p class="text-gray-600 mb-3"&gt;บำรุงราก, ดอก, ผล&lt;/p&gt;&lt;div class="location-tag old-leaf mb-3" style="background-color: #FEF3C7; color: #92400E; display: inline-block; padding: 0.25rem 0.75rem; border-radius: 9999px; font-weight: bold; font-size: 0.9rem;"&gt;🍂 เกิดที่ใบแก่&lt;/div&gt;&lt;p class="text-lg"&gt;&lt;strong&gt;อาการ:&lt;/strong&gt; ใบสีเขียวเข้มผิดปกติหรือมีสีม่วงแดง ออกดอกยาก&lt;/p&gt;&lt;/div&gt;&lt;div class="card nutrient-card" style="border-left: 5px solid #F97316;"&gt;&lt;h3 class="text-2xl font-bold"&gt;โพแทสเซียม (K)&lt;/h3&gt;&lt;p class="text-gray-600 mb-3"&gt;เพิ่มความแข็งแรง, คุณภาพผลผลิต&lt;/p&gt;&lt;div class="location-tag old-leaf mb-3" style="background-color: #FEF3C7; color: #92400E; display: inline-block; padding: 0.25rem 0.75rem; border-radius: 9999px; font-weight: bold; font-size: 0.9rem;"&gt;🍂 เกิดที่ใบแก่&lt;/div&gt;&lt;p class="text-lg"&gt;&lt;strong&gt;อาการ:&lt;/strong&gt; ขอบใบเหลืองและแห้งกรอบเหมือนโดนไฟลน (Marginal Scorch)&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/section&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;section&gt;&lt;h2 class="text-3xl font-bold mb-6"&gt;ธาตุอาหารรอง (Secondary Macronutrients)&lt;/h2&gt;&lt;div class="grid grid-cols-1 md:grid-cols-3 gap-8"&gt;&lt;div class="card nutrient-card" style="border-left: 5px solid #EF4444;"&gt;&lt;h3 class="text-2xl font-bold"&gt;แคลเซียม (Ca)&lt;/h3&gt;&lt;p class="text-gray-600 mb-3"&gt;สร้างผนังเซลล์, การแบ่งเซลล์&lt;/p&gt;&lt;div class="location-tag new-leaf mb-3" style="background-color: #D1FAE5; color: #065F46; display: inline-block; padding: 0.25rem 0.75rem; border-radius: 9999px; font-weight: bold; font-size: 0.9rem;"&gt;🌱 เกิดที่ยอด/ใบอ่อน&lt;/div&gt;&lt;p class="text-lg"&gt;&lt;strong&gt;อาการ:&lt;/strong&gt; ยอดและใบใหม่บิดเบี้ยว, หงิกงอ, ก้นผลเน่า&lt;/p&gt;&lt;/div&gt;&lt;div class="card nutrient-card" style="border-left: 5px solid #10B981;"&gt;&lt;h3 class="text-2xl font-bold"&gt;แมกนีเซียม (Mg)&lt;/h3&gt;&lt;p class="text-gray-600 mb-3"&gt;แกนกลางของคลอโรฟิลล์&lt;/p&gt;&lt;div class="location-tag old-leaf mb-3" style="background-color: #FEF3C7; color: #92400E; display: inline-block; padding: 0.25rem 0.75rem; border-radius: 9999px; font-weight: bold; font-size: 0.9rem;"&gt;🍂 เกิดที่ใบแก่&lt;/div&gt;&lt;p class="text-lg"&gt;&lt;strong&gt;อาการ:&lt;/strong&gt; เหลืองระหว่างเส้นใบ (Interveinal Chlorosis) คล้ายลายก้างปลา&lt;/p&gt;&lt;/div&gt;&lt;div class="card nutrient-card" style="border-left: 5px solid #F59E0B;"&gt;&lt;h3 class="text-2xl font-bold"&gt;กำมะถัน (S)&lt;/h3&gt;&lt;p class="text-gray-600 mb-3"&gt;สร้างโปรตีนและกลิ่น&lt;/p&gt;&lt;div class="location-tag new-leaf mb-3" style="background-color: #D1FAE5; color: #065F46; display: inline-block; padding: 0.25rem 0.75rem; border-radius: 9999px; font-weight: bold; font-size: 0.9rem;"&gt;🌱 เกิดที่ยอด/ใบอ่อน&lt;/div&gt;&lt;p class="text-lg"&gt;&lt;strong&gt;อาการ:&lt;/strong&gt; ใบอ่อนเหลืองซีดทั้งใบ (คล้ายขาด N แต่เกิดที่ยอด)&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/section&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;section&gt;&lt;h2 class="text-3xl font-bold mb-6"&gt;จุลธาตุ (Micronutrients)&lt;/h2&gt;&lt;div class="grid grid-cols-1 md:grid-cols-3 gap-8"&gt;&lt;div class="card nutrient-card" style="border-left: 5px solid #6366F1;"&gt;&lt;h3 class="text-2xl font-bold"&gt;เหล็ก (Fe)&lt;/h3&gt;&lt;p class="text-gray-600 mb-3"&gt;ช่วยสร้างคลอโรฟิลล์&lt;/p&gt;&lt;div class="location-tag new-leaf mb-3" style="background-color: #D1FAE5; color: #065F46; display: inline-block; padding: 0.25rem 0.75rem; border-radius: 9999px; font-weight: bold; font-size: 0.9rem;"&gt;🌱 เกิดที่ใบอ่อน&lt;/div&gt;&lt;p class="text-lg"&gt;&lt;strong&gt;อาการ:&lt;/strong&gt; ใบอ่อนเหลืองซีดระหว่างเส้นใบ แต่เส้นใบยังเขียวชัดเจน&lt;/p&gt;&lt;/div&gt;&lt;div class="card nutrient-card" style="border-left: 5px solid #EC4899;"&gt;&lt;h3 class="text-2xl font-bold"&gt;สังกะสี (Zn)&lt;/h3&gt;&lt;p class="text-gray-600 mb-3"&gt;ช่วยสร้างฮอร์โมนพืช&lt;/p&gt;&lt;div class="location-tag new-leaf mb-3" style="background-color: #D1FAE5; color: #065F46; display: inline-block; padding: 0.25rem 0.75rem; border-radius: 9999px; font-weight: bold; font-size: 0.9rem;"&gt;🌱 เกิดที่ใบอ่อน&lt;/div&gt;&lt;p class="text-lg"&gt;&lt;strong&gt;อาการ:&lt;/strong&gt; ใบอ่อนเล็ก, ข้อปล้องสั้น, ใบออกเป็นกระจุก (Rosette)&lt;/p&gt;&lt;/div&gt;&lt;div class="card nutrient-card" style="border-left: 5px solid #84CC16;"&gt;&lt;h3 class="text-2xl font-bold"&gt;โบรอน (B)&lt;/h3&gt;&lt;p class="text-gray-600 mb-3"&gt;ช่วยผสมเกสร, สร้างผนังเซลล์&lt;/p&gt;&lt;div class="location-tag new-leaf mb-3" style="background-color: #D1FAE5; color: #065F46; display: inline-block; padding: 0.25rem 0.75rem; border-radius: 9999px; font-weight: bold; font-size: 0.9rem;"&gt;🌱 เกิดที่ยอด/ใบอ่อน&lt;/div&gt;&lt;p class="text-lg"&gt;&lt;strong&gt;อาการ:&lt;/strong&gt; ยอดอ่อนตาย, ใบใหม่หงิกงอและเปราะ, ดอกร่วง, ผลไม่สมบูรณ์&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/section&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;section&gt;&lt;h2 class="text-3xl font-bold text-center mb-8"&gt;สถานการณ์จำลอง: การวินิจฉัยและแก้ไขปัญหาในพืชของไทย 👨‍⚕️&lt;/h2&gt;&lt;div class="space-y-8"&gt;&lt;div class="card p-6"&gt;&lt;h3 class="text-xl font-bold mb-2"&gt;🌾 สถานการณ์ที่ 1: ข้าวใบเหลืองช่วงแตกกอ&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;ลักษณะ:&lt;/strong&gt; ใบเหลืองจากส่วนล่างของกอ&lt;/p&gt;&lt;div class="mt-4 p-4 bg-gray-50 rounded-lg"&gt;&lt;p&gt;&lt;strong&gt;วินิจฉัย:&lt;/strong&gt; ขาด &lt;span class="font-bold text-blue-600"&gt;ไนโตรเจน (N)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;เหตุผล:&lt;/strong&gt; อาการเหลืองเริ่มที่ใบแก่ก่อน เพราะ N เคลื่อนที่ได้&lt;/p&gt;&lt;p&gt;&lt;strong&gt;การแก้ไข:&lt;/strong&gt; ใส่ปุ๋ยยูเรีย (46-0-0) หรือ แอมโมเนียมซัลเฟต (21-0-0)&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="card p-6"&gt;&lt;h3 class="text-xl font-bold mb-2"&gt;🌳 สถานการณ์ที่ 2: ทุเรียนเล็กยอดเหลือง&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;ลักษณะ:&lt;/strong&gt; ใบยอดใหม่เหลืองซีด แต่เส้นใบยังเขียว&lt;/p&gt;&lt;div class="mt-4 p-4 bg-gray-50 rounded-lg"&gt;&lt;p&gt;&lt;strong&gt;วินิจฉัย:&lt;/strong&gt; ขาด &lt;span class="font-bold text-indigo-600"&gt;เหล็ก (Fe)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;เหตุผล:&lt;/strong&gt; อาการเกิดที่ใบอ่อน เพราะ Fe ไม่เคลื่อนที่ มักพบในดินด่าง&lt;/p&gt;&lt;p&gt;&lt;strong&gt;การแก้ไข:&lt;/strong&gt; ปรับสภาพดินด้วยกำมะถันผง หรือฉีดพ่นเหล็กคีเลต (Fe-EDTA) ทางใบ&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="card p-6"&gt;&lt;h3 class="text-xl font-bold mb-2"&gt;🍅 สถานการณ์ที่ 3: พริก/มะเขือเทศก้นผลเน่า&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;ลักษณะ:&lt;/strong&gt; ปลายผลมีรอยช้ำสีน้ำตาลดำและเน่า&lt;/p&gt;&lt;div class="mt-4 p-4 bg-gray-50 rounded-lg"&gt;&lt;p&gt;&lt;strong&gt;วินิจฉัย:&lt;/strong&gt; ขาด &lt;span class="font-bold text-red-600"&gt;แคลเซียม (Ca)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;เหตุผล:&lt;/strong&gt; Ca เป็นองค์ประกอบผนังเซลล์ เมื่อขาดเซลล์ที่ปลายผลจะตาย มักเกิดร่วมกับการให้น้ำไม่สม่ำเสมอ&lt;/p&gt;&lt;p&gt;&lt;strong&gt;การแก้ไข:&lt;/strong&gt; ใส่ปูนขาว/ยิปซัมก่อนปลูก หรือฉีดพ่นแคลเซียม-โบรอนทางใบ&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="card p-6"&gt;&lt;h3 class="text-xl font-bold mb-2"&gt;🌴 สถานการณ์ที่ 4: ใบปาล์มแก่ขอบใบไหม้&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;ลักษณะ:&lt;/strong&gt; ใบแก่ด้านล่างมีขอบใบแห้งเป็นสีน้ำตาลไหม้&lt;/p&gt;&lt;div class="mt-4 p-4 bg-gray-50 rounded-lg"&gt;&lt;p&gt;&lt;strong&gt;วินิจฉัย:&lt;/strong&gt; ขาด &lt;span class="font-bold text-orange-600"&gt;โพแทสเซียม (K)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;เหตุผล:&lt;/strong&gt; อาการขอบใบไหม้ที่ใบแก่เป็นลักษณะเฉพาะของ K&lt;/p&gt;&lt;p&gt;&lt;strong&gt;การแก้ไข:&lt;/strong&gt; ใส่ปุ๋ยโพแทสเซียมคลอไรด์ (0-0-60) รอบทรงพุ่ม&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="card p-6"&gt;&lt;h3 class="text-xl font-bold mb-2"&gt;🌽 สถานการณ์ที่ 5: ข้าวโพดใบแก่เป็นทางสีเหลือง&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;ลักษณะ:&lt;/strong&gt; ใบแก่มีแถบสีเหลืองขนานไปกับเส้นกลางใบ&lt;/p&gt;&lt;div class="mt-4 p-4 bg-gray-50 rounded-lg"&gt;&lt;p&gt;&lt;strong&gt;วินิจฉัย:&lt;/strong&gt; ขาด &lt;span class="font-bold text-green-600"&gt;แมกนีเซียม (Mg)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;เหตุผล:&lt;/strong&gt; อาการเหลืองระหว่างเส้นใบที่ใบแก่ เพราะ Mg เป็นแกนกลางคลอโรฟิลล์และเคลื่อนที่ได้&lt;/p&gt;&lt;p&gt;&lt;strong&gt;การแก้ไข:&lt;/strong&gt; ใส่แมกนีเซียมซัลเฟต หรือ ปูนโดโลไมต์&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/section&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/main&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;footer class="text-center mt-16 p-6 rounded-lg" style="background-color: #1F2937; color: white;"&gt;&lt;p class="text-xl md:text-2xl font-bold"&gt;การวินิจฉัยที่แม่นยำ นำไปสู่การแก้ไขที่ตรงจุด เพื่อผลผลิตที่สมบูรณ์! 🌱✅&lt;/p&gt;&lt;/footer&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ type: 'question', q: "การที่ยอดอ่อนของพืชหงิกงอหรือตาย อาจเป็นสัญญาณของการขาดธาตุอาหารชนิดใด และเหตุใดจึงแสดงอาการที่ยอดอ่อนก่อน?" },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'content',</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: 'ทำไมใบแก่ถึงเหลืองก่อน?',</p>
<p class="p1"><span class="Apple-converted-space">                </span>htmlContent: `&lt;div style="background-color: #FDFBF5; padding: 1rem; border-radius: 15px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;header class="text-center mb-12"&gt;&lt;h1 class="text-4xl md:text-5xl font-bold mb-4" style="color: #D97706;"&gt;ทำไมใบแก่ถึงเหลืองก่อน?&lt;/h1&gt;&lt;p class="text-xl md:text-2xl" style="color: #F59E0B;"&gt;เจาะลึกกลยุทธ์การเอาตัวรอดของพืชเมื่อขาด "ไนโตรเจน"&lt;/p&gt;&lt;/header&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;main class="space-y-12"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6 text-center"&gt;&lt;h2 class="text-3xl font-bold mb-4"&gt;เข้าสู่โหมดเอาตัวรอด: การจัดลำดับความสำคัญ&lt;/h2&gt;&lt;p class="text-lg max-w-3xl mx-auto"&gt;เมื่อขาดแคลนไนโตรเจน พืชจะ "สละ" ส่วนที่สำคัญน้อยกว่า (ใบแก่) เพื่อรักษาอนาคตของต้น (ยอดอ่อน) ไว้&lt;/p&gt;&lt;div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-6"&gt;&lt;div class="p-4 bg-red-50 rounded-lg"&gt;&lt;div class="text-5xl"&gt;🍂&lt;/div&gt;&lt;h3 class="text-xl font-bold"&gt;ใบแก่ (ใบล่าง)&lt;/h3&gt;&lt;p&gt;ความสำคัญต่ำ: ได้รับแสงน้อย, สังเคราะห์แสงได้ไม่ดี&lt;/p&gt;&lt;p class="font-bold text-red-600 mt-2"&gt;&gt;&gt; ถูกสละทิ้ง&lt;/p&gt;&lt;/div&gt;&lt;div class="flex items-center justify-center text-4xl font-bold text-gray-400"&gt;→&lt;/div&gt;&lt;div class="p-4 bg-green-50 rounded-lg"&gt;&lt;div class="text-5xl"&gt;🌱&lt;/div&gt;&lt;h3 class="text-xl font-bold"&gt;ยอดและใบอ่อน&lt;/h3&gt;&lt;p&gt;ความสำคัญสูงสุด: ต้องเติบโตเพื่อรับแสงและดำรงชีวิตรอด&lt;/p&gt;&lt;p class="font-bold text-green-600 mt-2"&gt;&gt;&gt; ได้รับการบำรุง&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6"&gt;&lt;h2 class="text-3xl font-bold mb-8 text-center"&gt;กระบวนการรื้อถอนและขนย้าย (Remobilization)&lt;/h2&gt;&lt;div class="space-y-4"&gt;&lt;div class="flex flex-col md:flex-row items-center gap-6"&gt;&lt;div class="step-circle" style="background-color: #FBBF24; width: 3rem; height: 3rem; border-radius: 9999px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold; color: white;"&gt;1&lt;/div&gt;&lt;div class="flex-1"&gt;&lt;h3 class="text-2xl font-bold"&gt;สลายคลอโรฟิลล์&lt;/h3&gt;&lt;p class="text-lg"&gt;พืชสลายคลอโรฟิลล์ (สารสีเขียว) ในใบแก่เพื่อดึงไนโตรเจนออกมา ทำให้สารสีเหลือง (แคโรทีนอยด์) ที่ถูกบดบังไว้ปรากฏขึ้น &lt;span class="font-bold"&gt;→ ใบจึงเปลี่ยนเป็นสีเหลือง&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="flex justify-center"&gt;&lt;div class="flow-arrow" style="font-size: 3rem; line-height: 1; color: #F59E0B; font-weight: bold;"&gt;↓&lt;/div&gt;&lt;/div&gt;&lt;div class="flex flex-col md:flex-row items-center gap-6"&gt;&lt;div class="step-circle" style="background-color: #F97316; width: 3rem; height: 3rem; border-radius: 9999px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold; color: white;"&gt;2&lt;/div&gt;&lt;div class="flex-1"&gt;&lt;h3 class="text-2xl font-bold"&gt;สลายโปรตีน&lt;/h3&gt;&lt;p class="text-lg"&gt;โปรตีนและเอนไซม์ต่างๆ ในเซลล์ใบแก่จะถูกย่อยสลายกลับไปเป็นหน่วยเล็กๆ ที่เรียกว่า &lt;span class="font-bold"&gt;กรดอะมิโน&lt;/span&gt; เพื่อให้ง่ายต่อการขนย้าย&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="flex justify-center"&gt;&lt;div class="flow-arrow" style="font-size: 3rem; line-height: 1; color: #F59E0B; font-weight: bold;"&gt;↓&lt;/div&gt;&lt;/div&gt;&lt;div class="flex flex-col md:flex-row items-center gap-6"&gt;&lt;div class="step-circle" style="background-color: #EA580C; width: 3rem; height: 3rem; border-radius: 9999px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold; color: white;"&gt;3&lt;/div&gt;&lt;div class="flex-1"&gt;&lt;h3 class="text-2xl font-bold"&gt;ขนย้ายผ่านท่อลำเลียง&lt;/h3&gt;&lt;p class="text-lg"&gt;กรดอะมิโนและไนโตรเจนที่ได้จากการรื้อถอน จะถูกลำเลียงผ่าน &lt;span class="font-bold"&gt;ท่อลำเลียงอาหาร (Phloem)&lt;/span&gt; ซึ่งเปรียบเสมือนระบบทางด่วน, ส่งขึ้นไปยังส่วนยอด&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="flex justify-center"&gt;&lt;div class="flow-arrow" style="font-size: 3rem; line-height: 1; color: #F59E0B; font-weight: bold;"&gt;↓&lt;/div&gt;&lt;/div&gt;&lt;div class="flex flex-col md:flex-row items-center gap-6"&gt;&lt;div class="step-circle" style="background-color: #C2410C; width: 3rem; height: 3rem; border-radius: 9999px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: bold; color: white;"&gt;4&lt;/div&gt;&lt;div class="flex-1"&gt;&lt;h3 class="text-2xl font-bold"&gt;สร้างใหม่ที่ยอดอ่อน&lt;/h3&gt;&lt;p class="text-lg"&gt;ไนโตรเจนที่ขนย้ายมาจะถูกนำไปใช้สร้างคลอโรฟิลล์และโปรตีนสำหรับเซลล์ใหม่ ทำให้ &lt;span class="font-bold"&gt;ยอดของพืชยังคงเขียวสดและเติบโตต่อไปได้&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6"&gt;&lt;h2 class="text-3xl font-bold mb-4 text-center"&gt;เปรียบเทียบให้เห็นภาพ: บริษัทที่กำลังขาดทุน&lt;/h2&gt;&lt;div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center"&gt;&lt;div class="text-center"&gt;&lt;div class="text-7xl"&gt;🏢&lt;/div&gt;&lt;p class="text-xl mt-2"&gt;ต้นพืช = บริษัท&lt;/p&gt;&lt;p class="text-xl mt-2"&gt;ไนโตรเจน = เงินทุน&lt;/p&gt;&lt;/div&gt;&lt;div&gt;&lt;div class="bg-red-100 p-4 rounded-lg mb-4"&gt;&lt;p class="text-lg"&gt;&lt;span class="font-bold"&gt;ใบแก่ = สาขาเก่า:&lt;/span&gt; ทำกำไรน้อยลง เมื่อบริษัทขาดเงินทุน จึงต้องปิดสาขานี้และโยกย้ายทรัพยากรไปส่วนอื่น&lt;/p&gt;&lt;/div&gt;&lt;div class="bg-green-100 p-4 rounded-lg"&gt;&lt;p class="text-lg"&gt;&lt;span class="font-bold"&gt;ยอดอ่อน = สำนักงานใหญ่:&lt;/span&gt; มีความสำคัญสูงสุด ต้องได้รับเงินทุนเพื่อขับเคลื่อนโครงการใหม่ๆ และอนาคตของบริษัทต่อไป&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/main&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;footer class="text-center mt-12 p-6 rounded-lg" style="background-color: #D97706; color: white;"&gt;&lt;p class="text-xl md:text-2xl font-bold"&gt;ดังนั้น อาการใบเหลืองที่ใบล่าง จึงเป็น "สัญญาณขอความช่วยเหลือ" ที่พืชกำลังบอกเราว่า "ไนโตรเจนในดินกำลังจะหมดแล้ว ช่วยเติมให้ฉันที!" 🌱&lt;/p&gt;&lt;/footer&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ type: 'question', q: "ถ้าสังเกตเห็นว่าต้นไม้มีใบแก่ (ใบล่างๆ) เริ่มเหลืองซีด แต่ยอดยังเขียวอยู่ น่าจะขาดธาตุอาหารใดเป็นพิเศษ เพราะอะไร?" },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'content',</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: 'ปุ๋ยอินทรีย์ vs ปุ๋ยเคมี',</p>
<p class="p1"><span class="Apple-converted-space">                </span>htmlContent: `&lt;div style="background-color: #F9F9F9; padding: 1rem; border-radius: 15px;"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;header class="text-center mb-12"&gt;&lt;h1 class="text-4xl md:text-5xl font-bold mb-4" style="color: #4A5568;"&gt;ปุ๋ยอินทรีย์ vs. ปุ๋ยเคมี&lt;/h1&gt;&lt;p class="text-xl md:text-2xl" style="color: #718096;"&gt;ปรัชญาที่แตกต่าง: "เลี้ยงดิน" หรือ "เลี้ยงพืช"&lt;/p&gt;&lt;/header&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;main class="space-y-12"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="card"&gt;&lt;div class="comparison-box" style="border-top: 8px solid #3182CE;"&gt;&lt;h2 class="text-3xl font-bold mb-3" style="color: #3182CE;"&gt;ปุ๋ยเคมี: "อาหารจานด่วนสำหรับพืช" 🍔&lt;/h2&gt;&lt;p class="text-lg mb-4"&gt;ให้ธาตุอาหารเข้มข้นในรูปที่พืชใช้ได้ทันที เห็นผลรวดเร็ว แต่เน้นการ **"เลี้ยงพืช"** โดยตรง&lt;/p&gt;&lt;h3 class="font-bold text-xl mb-2"&gt;ผลกระทบระยะยาวต่อดิน:&lt;/h3&gt;&lt;ul class="space-y-2 list-disc list-inside text-lg text-left"&gt;&lt;li&gt;&lt;span class="font-bold text-red-600"&gt;ทำลายโครงสร้างดิน:&lt;/span&gt; ดินจะอัดกันแน่นและแข็งกระด้าง&lt;/li&gt;&lt;li&gt;&lt;span class="font-bold text-red-600"&gt;ลดจุลินทรีย์:&lt;/span&gt; ความเค็มของปุ๋ยเป็นอันตรายต่อสิ่งมีชีวิตในดิน&lt;/li&gt;&lt;li&gt;&lt;span class="font-bold text-red-600"&gt;ดินเป็นกรด/ด่าง:&lt;/span&gt; ค่า pH ดินเปลี่ยนแปลงไปในทางที่ไม่เหมาะสม&lt;/li&gt;&lt;li&gt;&lt;span class="font-bold text-red-600"&gt;ไม่เพิ่มอินทรียวัตถุ:&lt;/span&gt; ดินจะค่อยๆ "ตาย" ขาดชีวิตชีวา&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="card"&gt;&lt;div class="comparison-box" style="border-top: 8px solid #38A169;"&gt;&lt;h2 class="text-3xl font-bold mb-3" style="color: #38A169;"&gt;ปุ๋ยอินทรีย์: "อาหารสุขภาพเพื่อดิน" 🥗&lt;/h2&gt;&lt;p class="text-lg mb-4"&gt;ได้จากการย่อยสลายของซากพืชซากสัตว์ ปลดปล่อยธาตุอาหารช้าๆ แต่หัวใจสำคัญคือการ **"เลี้ยงดิน"** ให้มีชีวิต&lt;/p&gt;&lt;h3 class="font-bold text-xl mb-2"&gt;ผลกระทบระยะยาวต่อดิน:&lt;/h3&gt;&lt;ul class="space-y-2 list-disc list-inside text-lg text-left"&gt;&lt;li&gt;&lt;span class="font-bold text-green-600"&gt;สร้างเม็ดดิน:&lt;/span&gt; ฮิวมัสช่วยให้ดินร่วนซุย ระบายน้ำและอากาศดี&lt;/li&gt;&lt;li&gt;&lt;span class="font-bold text-green-600"&gt;เพิ่มการอุ้มน้ำ:&lt;/span&gt; ฮิวมัสทำหน้าที่เหมือนฟองน้ำ ช่วยให้ดินชุ่มชื้นนาน&lt;/li&gt;&lt;li&gt;&lt;span class="font-bold text-green-600"&gt;เป็นบ้านของจุลินทรีย์:&lt;/span&gt; เพิ่มความหลากหลายทางชีวภาพในดิน&lt;/li&gt;&lt;li&gt;&lt;span class="font-bold text-green-600"&gt;ปลดปล่อยธาตุอาหารช้าๆ:&lt;/span&gt; พืชมีอาหารกินต่อเนื่อง ลดการสูญเสีย&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="card p-6"&gt;&lt;h2 class="text-3xl font-bold text-center mb-8"&gt;ตารางเปรียบเทียบผลกระทบระยะยาว&lt;/h2&gt;&lt;div class="overflow-x-auto"&gt;&lt;table class="w-full text-lg text-left"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;thead class="bg-gray-100"&gt;&lt;tr&gt;&lt;th class="p-4"&gt;คุณสมบัติ&lt;/th&gt;&lt;th class="p-4 text-center" style="color: #38A169;"&gt;ปุ๋ยอินทรีย์&lt;/th&gt;&lt;th class="p-4 text-center" style="color: #3182CE;"&gt;ปุ๋ยเคมี&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tr class="border-b"&gt;&lt;td class="p-4 font-bold"&gt;โครงสร้างดิน&lt;/td&gt;&lt;td class="p-4 text-center"&gt;✅ ปรับปรุงให้ร่วนซุย&lt;/td&gt;&lt;td class="p-4 text-center"&gt;❌ ทำให้ดินแน่นแข็ง&lt;/td&gt;&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tr class="border-b"&gt;&lt;td class="p-4 font-bold"&gt;การอุ้มน้ำ&lt;/td&gt;&lt;td class="p-4 text-center"&gt;✅ เพิ่มขึ้น ดินชุ่มชื้น&lt;/td&gt;&lt;td class="p-4 text-center"&gt;❌ ลดลง ดินแห้งง่าย&lt;/td&gt;&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tr class="border-b"&gt;&lt;td class="p-4 font-bold"&gt;สิ่งมีชีวิตในดิน&lt;/td&gt;&lt;td class="p-4 text-center"&gt;✅ ส่งเสริม ทำให้ดินมีชีวิต&lt;/td&gt;&lt;td class="p-4 text-center"&gt;❌ ทำลาย ทำให้ดินตาย&lt;/td&gt;&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tr class="border-b"&gt;&lt;td class="p-4 font-bold"&gt;การปลดปล่อยธาตุอาหาร&lt;/td&gt;&lt;td class="p-4 text-center"&gt;✅ ช้าๆ สม่ำเสมอ&lt;/td&gt;&lt;td class="p-4 text-center"&gt;❌ รวดเร็ว สูญเสียง่าย&lt;/td&gt;&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;tr&gt;&lt;td class="p-4 font-bold"&gt;ความยั่งยืน&lt;/td&gt;&lt;td class="p-4 text-center"&gt;✅ สูงมาก (ลงทุนให้ดิน)&lt;/td&gt;&lt;td class="p-4 text-center"&gt;❌ ต่ำ (แก้ปัญหาระยะสั้น)&lt;/td&gt;&lt;/tr&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/tbody&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/main&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;footer class="text-center mt-12 p-6 rounded-lg" style="background-color: #4A5568; color: white;"&gt;&lt;p class="text-xl md:text-2xl font-bold"&gt;เพื่อความยั่งยืน...เราควร "เลี้ยงดิน" ให้สมบูรณ์ เพื่อให้ดินสามารถ "เลี้ยงพืช" ของเราได้อย่างยั่งยืนตลอดไป 🌱&lt;/p&gt;&lt;/footer&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;`</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ type: 'question', q: "การใส่ปุ๋ยหมักหรือปุ๋ยคอก มีประโยชน์ต่อดินในระยะยาวมากกว่าแค่การให้ธาตุอาหารอย่างไร?" }</p>
<p class="p1"><span class="Apple-converted-space">        </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- UI &amp; State Management ---</p>
<p class="p1"><span class="Apple-converted-space">        </span>const loader = document.getElementById('loader-overlay');</p>
<p class="p1"><span class="Apple-converted-space">        </span>function showLoader() { loader.style.display = 'flex'; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>function hideLoader() { loader.style.display = 'none'; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function switchScreen(screenId) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelectorAll('.screen').forEach(screen =&gt; screen.classList.remove('active'));</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById(screenId).classList.add('active');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- Quiz Logic ---</p>
<p class="p1"><span class="Apple-converted-space">        </span>function startQuiz() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>studentData.name = document.getElementById('student-name').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">            </span>studentData.id = document.getElementById('student-id').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">            </span>studentData.class = document.getElementById('student-class').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!studentData.name || !studentData.id || !studentData.class) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert('กรุณากรอกข้อมูลให้ครบถ้วน');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>nextStep();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function nextStep() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>currentStepIndex++;</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (currentStepIndex &lt; quizSteps.length) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const step = quizSteps[currentStepIndex];</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (step.type === 'content') renderContentStep(step);</p>
<p class="p1"><span class="Apple-converted-space">                </span>else renderQuestionStep(step);</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>showSummary();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>function previousStep() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (currentStepIndex &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentStepIndex--;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const step = quizSteps[currentStepIndex];</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (step.type === 'content') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>renderContentStep(step);</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>renderQuestionStep(step);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderContentStep(step) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('content-title').innerText = step.title;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('content-body').innerHTML = step.htmlContent;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const prevBtn = document.getElementById('content-prev-btn');</p>
<p class="p1"><span class="Apple-converted-space">            </span>prevBtn.style.visibility = (currentStepIndex === 0) ? 'hidden' : 'visible';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (step.onRender) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>setTimeout(step.onRender, 0);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>switchScreen('content-screen');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderQuestionStep(step) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const questionNumber = quizSteps.slice(0, currentStepIndex + 1).filter(s =&gt; s.type === 'question').length;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const questionIndex = questionNumber - 1;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('question-title').innerText = `คำถามข้อที่ ${questionNumber}`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('question-text').innerText = step.q;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const savedAnswer = studentData.answers[questionIndex];</p>
<p class="p1"><span class="Apple-converted-space">            </span>const savedScoreInfo = studentData.scores[questionIndex];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (savedAnswer !== undefined &amp;&amp; savedScoreInfo !== undefined) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('student-answer').value = savedAnswer;</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateWordCounter();</p>
<p class="p1"><span class="Apple-converted-space">                </span>const feedbackMessage = "นี่คือคำตอบและคะแนนล่าสุดของคุณ คุณสามารถแก้ไขและตรวจใหม่ หรือทำข้อต่อไปได้เลย";</p>
<p class="p1"><span class="Apple-converted-space">                </span>displayFeedback(savedScoreInfo.score, feedbackMessage, false);</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('student-answer').value = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateWordCounter();</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('feedback-container').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('hint-box').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('check-answer-btn').style.display = 'inline-block';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('hint-btn').style.display = 'inline-block';</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('student-answer').disabled = false;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>updateProgressBar();</p>
<p class="p1"><span class="Apple-converted-space">            </span>switchScreen('question-screen');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>async function checkAnswer() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const answer = document.getElementById('student-answer').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const wordCount = answer.trim().split(/\s+/).filter(Boolean).length;</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (wordCount === 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert('กรุณาพิมพ์คำตอบก่อน');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (wordCount &gt; 50) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert('คำตอบของคุณมีความยาวเกิน 50 คำ กรุณาปรับลดให้สั้นลง');</p>
<p class="p1"><span class="Apple-converted-space">                </span>return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>showLoader();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const question = quizSteps[currentStepIndex].q;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const prompt = `You are a helpful science teacher for 7th-grade students in Thailand. The student was asked the following question: "${question}". The student's answer is: "${answer}".</p>
<p class="p1"><span class="Apple-converted-space">            </span>Please evaluate this answer based on scientific accuracy and clarity.</p>
<p class="p1"><span class="Apple-converted-space">            </span>Return the response as a JSON object with two keys: "score" (a number from 0.0 to 10.0 with one decimal place) and "feedback" (a short, constructive feedback in Thai, explaining what was good and what could be improved).`;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const payload = {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>contents: [{ parts: [{ text: prompt }] }],</p>
<p class="p1"><span class="Apple-converted-space">                    </span>generationConfig: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>responseMimeType: "application/json",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>responseSchema: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>type: "OBJECT",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>properties: {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>"score": { "type": "NUMBER" },</p>
<p class="p1"><span class="Apple-converted-space">                                </span>"feedback": { "type": "STRING" }</p>
<p class="p1"><span class="Apple-converted-space">                            </span>},</p>
<p class="p1"><span class="Apple-converted-space">                            </span>required: ["score", "feedback"]</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>};</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>const response = await fetch(API_URL, {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>method: 'POST',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>headers: { 'Content-Type': 'application/json' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>body: JSON.stringify(payload)</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!response.ok) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>throw new Error(`API Error: ${response.statusText}`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const result = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">                </span>const aiResponseText = result.candidates[0].content.parts[0].text;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const aiData = JSON.parse(aiResponseText);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const questionIndex = quizSteps.slice(0, currentStepIndex + 1).filter(s =&gt; s.type === 'question').length - 1;</p>
<p class="p1"><span class="Apple-converted-space">                </span>studentData.answers[questionIndex] = answer;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>displayFeedback(aiData.score, aiData.feedback, true);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error("Error calling Gemini API:", error);</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert("เกิดข้อผิดพลาดในการติดต่อ AI กรุณาลองใหม่อีกครั้ง");</p>
<p class="p1"><span class="Apple-converted-space">            </span>} finally {</p>
<p class="p1"><span class="Apple-converted-space">                </span>hideLoader();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>function displayFeedback(score, feedback, shouldSaveScore) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('score-display').innerText = `คะแนนที่ได้: ${score.toFixed(1)} / 10.0`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('feedback-text').innerText = feedback;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('feedback-container').style.display = 'block';</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('check-answer-btn').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('hint-btn').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('student-answer').disabled = true;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (shouldSaveScore) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const questionIndex = quizSteps.slice(0, currentStepIndex + 1).filter(s =&gt; s.type === 'question').length - 1;</p>
<p class="p1"><span class="Apple-converted-space">                </span>studentData.scores[questionIndex] = { score: score, feedback: feedback };</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>async function getHint() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>showLoader();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const question = quizSteps[currentStepIndex].q;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const prompt = `You are a helpful science teacher. For the question "${question}", provide a short, simple hint in Thai for a 7th-grade student. Do not give the answer directly. Keep it under 20 words.`;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const payload = { contents: [{ parts: [{ text: prompt }] }] };</p>
<p class="p1"><span class="Apple-converted-space">                </span>const response = await fetch(API_URL, {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>method: 'POST',</p>
<p class="p1"><span class="Apple-converted-space">                    </span>headers: { 'Content-Type': 'application/json' },</p>
<p class="p1"><span class="Apple-converted-space">                    </span>body: JSON.stringify(payload)</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!response.ok) throw new Error("API Error");</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const result = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">                </span>const hintText = result.candidates[0].content.parts[0].text;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>const hintBox = document.getElementById('hint-box');</p>
<p class="p1"><span class="Apple-converted-space">                </span>hintBox.innerText = `💡 คำใบ้: ${hintText}`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>hintBox.style.display = 'block';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>console.error("Error getting hint:", error);</p>
<p class="p1"><span class="Apple-converted-space">                </span>alert("เกิดข้อผิดพลาดในการขอคำใบ้");</p>
<p class="p1"><span class="Apple-converted-space">            </span>} finally {</p>
<p class="p1"><span class="Apple-converted-space">                </span>hideLoader();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function retryQuestion() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('feedback-container').style.display = 'none';</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('check-answer-btn').style.display = 'inline-block';</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('hint-btn').style.display = 'inline-block';</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('student-answer').disabled = false;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('student-answer').focus();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateProgressBar() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const questionCount = quizSteps.filter(s =&gt; s.type === 'question').length;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const questionsAnswered = studentData.scores.filter(s =&gt; s !== undefined).length;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const progress = (questionsAnswered / questionCount) * 100;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const bar = document.getElementById('progress-bar');</p>
<p class="p1"><span class="Apple-converted-space">            </span>bar.style.width = `${progress}%`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>bar.innerText = `${Math.round(progress)}%`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateWordCounter() {</p>
<p class="p1"><span class="Apple-converted-space">             </span>const answer = document.getElementById('student-answer').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const wordCount = answer.trim().split(/\s+/).filter(Boolean).length;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const counter = document.getElementById('word-counter');</p>
<p class="p1"><span class="Apple-converted-space">            </span>counter.innerText = `${wordCount}/50 คำ`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>counter.style.color = wordCount &gt; 50 ? 'red' : '#888';</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('student-answer').addEventListener('input', updateWordCounter);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function showSummary() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('summary-name').innerText = studentData.name;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('summary-id').innerText = studentData.id;</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('summary-class').innerText = studentData.class;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const validScores = studentData.scores.filter(s =&gt; s !== undefined).map(s =&gt; s.score);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const totalScore = validScores.reduce((sum, score) =&gt; sum + score, 0);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const questionCount = quizSteps.filter(s =&gt; s.type === 'question').length;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('total-score').innerText = `${totalScore.toFixed(1)} / ${questionCount * 10}.0`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>switchScreen('summary-screen');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function restartQuiz() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>studentData.scores = [];</p>
<p class="p1"><span class="Apple-converted-space">            </span>studentData.answers = [];</p>
<p class="p1"><span class="Apple-converted-space">            </span>currentStepIndex = -1;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const bar = document.getElementById('progress-bar');</p>
<p class="p1"><span class="Apple-converted-space">            </span>bar.style.width = `0%`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>bar.innerText = `0%`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>switchScreen('welcome-screen');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
